/**-----------------------------------------------------------------------------------------
* Copyright Â© 2020 Progress Software Corporation. All rights reserved.
* Licensed under commercial license. See LICENSE.md in the project root for more information
*-------------------------------------------------------------------------------------------*/
!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("@angular/core"),require("@progress/kendo-angular-l10n"),require("rxjs"),require("rxjs/operators"),require("@angular/common"),require("@angular/forms"),require("@angular/common/http"),require("@angular/animations")):"function"==typeof define&&define.amd?define(["@angular/core","@progress/kendo-angular-l10n","rxjs","rxjs/operators","@angular/common","@angular/forms","@angular/common/http","@angular/animations"],t):"object"==typeof exports?exports.KendoAngularUpload=t(require("@angular/core"),require("@progress/kendo-angular-l10n"),require("rxjs"),require("rxjs/operators"),require("@angular/common"),require("@angular/forms"),require("@angular/common/http"),require("@angular/animations")):e.KendoAngularUpload=t(e["@angular/core"],e["@progress/kendo-angular-l10n"],e.rxjs,e["rxjs/operators"],e["@angular/common"],e["@angular/forms"],e["@angular/common/http"],e["@angular/animations"])}(window,(function(e,t,n,i,o,r,a,s){return function(e){var t={};function n(i){if(t[i])return t[i].exports;var o=t[i]={i:i,l:!1,exports:{}};return e[i].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(i,o,function(t){return e[t]}.bind(null,o));return i},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=41)}([function(t,n){t.exports=e},function(e,t,n){"use strict";n.r(t),n.d(t,"__extends",(function(){return o})),n.d(t,"__assign",(function(){return r})),n.d(t,"__rest",(function(){return a})),n.d(t,"__decorate",(function(){return s})),n.d(t,"__param",(function(){return l})),n.d(t,"__metadata",(function(){return u})),n.d(t,"__awaiter",(function(){return c})),n.d(t,"__generator",(function(){return d})),n.d(t,"__createBinding",(function(){return p})),n.d(t,"__exportStar",(function(){return f})),n.d(t,"__values",(function(){return h})),n.d(t,"__read",(function(){return v})),n.d(t,"__spread",(function(){return m})),n.d(t,"__spreadArrays",(function(){return g})),n.d(t,"__await",(function(){return y})),n.d(t,"__asyncGenerator",(function(){return _})),n.d(t,"__asyncDelegator",(function(){return b})),n.d(t,"__asyncValues",(function(){return S})),n.d(t,"__makeTemplateObject",(function(){return F})),n.d(t,"__importStar",(function(){return E})),n.d(t,"__importDefault",(function(){return k})),n.d(t,"__classPrivateFieldGet",(function(){return I})),n.d(t,"__classPrivateFieldSet",(function(){return C}));
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */
var i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};function o(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var r=function(){return(r=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};function a(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(i=Object.getOwnPropertySymbols(e);o<i.length;o++)t.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(e,i[o])&&(n[i[o]]=e[i[o]])}return n}function s(e,t,n,i){var o,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(r<3?o(a):r>3?o(t,n,a):o(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a}function l(e,t){return function(n,i){t(n,i,e)}}function u(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}function c(e,t,n,i){return new(n||(n=Promise))((function(o,r){function a(e){try{l(i.next(e))}catch(e){r(e)}}function s(e){try{l(i.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((i=i.apply(e,t||[])).next())}))}function d(e,t){var n,i,o,r,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(r){return function(s){return function(r){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,i&&(o=2&r[0]?i.return:r[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,r[1])).done)return o;switch(i=0,o&&(r=[2&r[0],o.value]),r[0]){case 0:case 1:o=r;break;case 4:return a.label++,{value:r[1],done:!1};case 5:a.label++,i=r[1],r=[0];continue;case 7:r=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==r[0]&&2!==r[0])){a=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){a.label=r[1];break}if(6===r[0]&&a.label<o[1]){a.label=o[1],o=r;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(r);break}o[2]&&a.ops.pop(),a.trys.pop();continue}r=t.call(e,a)}catch(e){r=[6,e],i=0}finally{n=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,s])}}}function p(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}function f(e,t){for(var n in e)"default"===n||t.hasOwnProperty(n)||(t[n]=e[n])}function h(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],i=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&i>=e.length&&(e=void 0),{value:e&&e[i++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function v(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var i,o,r=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(i=r.next()).done;)a.push(i.value)}catch(e){o={error:e}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return a}function m(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(v(arguments[t]));return e}function g(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var i=Array(e),o=0;for(t=0;t<n;t++)for(var r=arguments[t],a=0,s=r.length;a<s;a++,o++)i[o]=r[a];return i}function y(e){return this instanceof y?(this.v=e,this):new y(e)}function _(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,o=n.apply(e,t||[]),r=[];return i={},a("next"),a("throw"),a("return"),i[Symbol.asyncIterator]=function(){return this},i;function a(e){o[e]&&(i[e]=function(t){return new Promise((function(n,i){r.push([e,t,n,i])>1||s(e,t)}))})}function s(e,t){try{(n=o[e](t)).value instanceof y?Promise.resolve(n.value.v).then(l,u):c(r[0][2],n)}catch(e){c(r[0][3],e)}var n}function l(e){s("next",e)}function u(e){s("throw",e)}function c(e,t){e(t),r.shift(),r.length&&s(r[0][0],r[0][1])}}function b(e){var t,n;return t={},i("next"),i("throw",(function(e){throw e})),i("return"),t[Symbol.iterator]=function(){return this},t;function i(i,o){t[i]=e[i]?function(t){return(n=!n)?{value:y(e[i](t)),done:"return"===i}:o?o(t):t}:o}}function S(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=h(e),t={},i("next"),i("throw"),i("return"),t[Symbol.asyncIterator]=function(){return this},t);function i(n){t[n]=e[n]&&function(t){return new Promise((function(i,o){(function(e,t,n,i){Promise.resolve(i).then((function(t){e({value:t,done:n})}),t)})(i,o,(t=e[n](t)).done,t.value)}))}}}function F(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function E(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function k(e){return e&&e.__esModule?e:{default:e}}function I(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)}function C(e,t,n){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,n),n}},function(e,n){e.exports=t},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),o=n(19),r=n(0),a=n(4),s=n(21),l=n(22),u=n(5),c=n(53),d=function(){function e(e){this.http=e,this.cancelEvent=new r.EventEmitter,this.clearEvent=new r.EventEmitter,this.completeEvent=new r.EventEmitter,this.errorEvent=new r.EventEmitter,this.pauseEvent=new r.EventEmitter,this.removeEvent=new r.EventEmitter,this.resumeEvent=new r.EventEmitter,this.selectEvent=new r.EventEmitter,this.successEvent=new r.EventEmitter,this.uploadEvent=new r.EventEmitter,this.uploadProgressEvent=new r.EventEmitter,this.changeEvent=new r.EventEmitter,this.async={autoUpload:!0,batch:!1,chunk:!1,concurrent:!0,removeField:"fileNames",removeHeaders:new o.HttpHeaders,removeMethod:"POST",removeUrl:"",responseType:"json",saveField:"files",saveHeaders:new o.HttpHeaders,saveMethod:"POST",saveUrl:"",withCredentials:!0},this.chunk={autoRetryAfter:100,size:1048576,maxAutoRetries:1,resumable:!0},this.component="Upload",this.chunkMap=new c.ChunkMap,this.fileList=new s.FileMap}return Object.defineProperty(e.prototype,"files",{get:function(){return this.fileList},enumerable:!0,configurable:!0}),e.prototype.setChunkSettings=function(e){!1!==e&&(this.async.chunk=!0,"object"==typeof e&&(this.chunk=Object.assign({},this.chunk,e)))},e.prototype.onChange=function(){var e=this.fileList.filesFlat.filter((function(e){return e.state===a.FileState.Initial||e.state===a.FileState.Uploaded}));this.changeEvent.emit(e.length>0?e:null)},e.prototype.addFiles=function(e){var t=new l.SelectEvent(e);if(this.selectEvent.emit(t),!t.isDefaultPrevented()){for(var n=0,i=e;n<i.length;n++){var o=i[n];this.fileList.add(o)}this.async.autoUpload&&this.uploadFiles()}if("FileSelect"===this.component){var r=this.fileList.filesFlat;this.changeEvent.emit(r.length>0?r:null)}},e.prototype.addInitialFiles=function(e){var t=this;this.fileList.clear(),e.forEach((function(e){var n=u.getInitialFileInfo(e);t.fileList.add(n)}))},e.prototype.addInitialFileSelectFiles=function(e){var t=this;this.fileList.clear(),e.forEach((function(e){e instanceof File?t.fileList.add(u.convertFileToFileInfo(e)):t.fileList.add(u.getInitialFileInfo(e))}))},e.prototype.resumeFile=function(e){var t=this.fileList.get(e);this.resumeEvent.emit(new l.ResumeEvent(t[0])),this.fileList.setFilesStateByUid(e,a.FileState.Uploading),this._uploadFiles([t])},e.prototype.pauseFile=function(e){var t=this.fileList.get(e)[0];this.pauseEvent.emit(new l.PauseEvent(t)),this.fileList.setFilesStateByUid(e,a.FileState.Paused)},e.prototype.removeFiles=function(e){var t=this.fileList.get(e),n=new l.RemoveEvent(t,this.cloneRequestHeaders(this.async.removeHeaders));if(this.removeEvent.emit(n),!n.isDefaultPrevented())if("Upload"!==this.component||t[0].state!==a.FileState.Uploaded&&t[0].state!==a.FileState.Initial){if(this.fileList.remove(e),"FileSelect"===this.component){var i=this.fileList.filesFlat;this.changeEvent.emit(i.length>0?i:null)}}else this.performRemove(t,n)},e.prototype.cancelFiles=function(e){var t=this.fileList.get(e),n=new l.CancelEvent(t);this.cancelEvent.emit(n);for(var i=0,o=t;i<o.length;i++){var r=o[i];r.httpSubscription&&r.httpSubscription.unsubscribe()}this.fileList.remove(e),this.checkAllComplete()},e.prototype.clearFiles=function(){var e=new l.ClearEvent;if(this.clearEvent.emit(e),!e.isDefaultPrevented()){var t=this.fileList.hasFileWithState([a.FileState.Initial,a.FileState.Uploaded]);this.fileList.clear(),t&&this.onChange()}},e.prototype.uploadFiles=function(){var e=[];this.async.concurrent&&(e=this.fileList.filesToUpload),this.async.concurrent||this.fileList.hasFileWithState([a.FileState.Uploading])||(e=[this.fileList.firstFileToUpload]),e&&e.length>0&&this._uploadFiles(e)},e.prototype.retryFiles=function(e){var t=[this.fileList.get(e)];t&&this._uploadFiles(t)},e.prototype._uploadFiles=function(e){for(var t=function(e){if(e[0].state===a.FileState.Paused)return{value:void 0};var t=new l.UploadEvent(e,n.cloneRequestHeaders(n.async.saveHeaders));if(n.uploadEvent.emit(t),t.isDefaultPrevented())n.fileList.remove(e[0].uid);else{n.fileList.setFilesState(e,a.FileState.Uploading);var i=n.performUpload(e,t);e.forEach((function(e){e.httpSubscription=i}))}},n=this,i=0,o=e;i<o.length;i++){var r=t(o[i]);if("object"==typeof r)return r.value}},e.prototype.performRemove=function(e,t){var n=this,i=this.async,r=e.map((function(e){return e.name})),a=this.populateRemoveFormData(r,t.data),s=this.populateRequestOptions(t.headers),l=new o.HttpRequest(i.removeMethod,i.removeUrl,a,s);this.http.request(l).subscribe((function(t){n.onSuccess(t,e,"remove")}),(function(t){n.onError(t,e,"remove")}))},e.prototype.performUpload=function(e,t){var n=this,i=this.async,r=this.populateUploadFormData(e,t.data),a=this.populateRequestOptions(t.headers),s=new o.HttpRequest(i.saveMethod,i.saveUrl,r,a);return this.http.request(s).subscribe((function(t){t.type!==o.HttpEventType.UploadProgress||n.async.chunk?t instanceof o.HttpResponse&&(n.onSuccess(t,e,"upload"),n.checkAllComplete()):n.onProgress(t,e)}),(function(t){n.onError(t,e,"upload"),n.checkAllComplete()}))},e.prototype.onSuccess=function(e,t,n){if("upload"===n&&this.async.chunk){if(this.onChunkProgress(t),!this.isChunkUploadComplete(t[0].uid))return this.updateChunkInfo(t[0].uid),void this._uploadFiles([t]);this.removeChunkInfo(t[0].uid)}var i=new l.SuccessEvent(t,n,e);this.successEvent.emit(i),"upload"===n?this.fileList.setFilesState(t,i.isDefaultPrevented()?a.FileState.Failed:a.FileState.Uploaded):i.isDefaultPrevented()||this.fileList.remove(t[0].uid),i.isDefaultPrevented()||this.onChange()},e.prototype.onError=function(e,t,n){var i=this;if("upload"===n&&this.async.chunk){var o=this.chunk.maxAutoRetries,r=this.chunkMap.get(t[0].uid);if(r.retries<o)return r.retries+=1,void setTimeout((function(){i.retryFiles(t[0].uid)}),this.chunk.autoRetryAfter)}var s=new l.ErrorEvent(t,n,e);this.errorEvent.emit(s),"upload"===n&&this.fileList.setFilesState(t,a.FileState.Failed)},e.prototype.onProgress=function(e,t){var n=Math.round(100*e.loaded/e.total),i=new l.UploadProgressEvent(t,n<100?n:100);this.uploadProgressEvent.emit(i)},e.prototype.onChunkProgress=function(e){var t=this.chunkMap.get(e[0].uid),n=0;t&&(n=t.index===t.totalChunks-1?100:Math.round((t.index+1)/t.totalChunks*100));var i=new l.UploadProgressEvent(e,n<100?n:100);this.uploadProgressEvent.emit(i)},e.prototype.checkAllComplete=function(){this.fileList.hasFileWithState([a.FileState.Selected,a.FileState.Uploading,a.FileState.Paused])?this.shouldUploadNextFile()&&this.uploadFiles():this.completeEvent.emit()},e.prototype.shouldUploadNextFile=function(){return!this.async.concurrent&&this.fileList.hasFileWithState([a.FileState.Selected])&&!this.fileList.hasFileWithState([a.FileState.Uploading])},e.prototype.cloneRequestHeaders=function(e){var t={};return e&&e.keys().forEach((function(n){t[n]=e.get(n)})),new o.HttpHeaders(t)},e.prototype.populateRequestOptions=function(e){return{headers:e,reportProgress:!0,responseType:this.async.responseType,withCredentials:this.async.withCredentials}},e.prototype.populateUploadFormData=function(e,t){var n=this.async.saveField,i=new FormData;if(this.populateClientFormData(i,t),this.async.chunk)i.append(n,this.getNextChunk(e[0])),i.append("metadata",this.getChunkMetadata(e[0]));else for(var o=0,r=e;o<r.length;o++){var a=r[o];i.append(n,a.rawFile)}return i},e.prototype.populateRemoveFormData=function(e,t){var n=new FormData;this.populateClientFormData(n,t);for(var i=0,o=e;i<o.length;i++){var r=o[i];n.append(this.async.removeField,r)}return n},e.prototype.populateClientFormData=function(e,t){for(var n in t)t.hasOwnProperty(n)&&e.append(n,t[n])},e.prototype.getNextChunk=function(e){var t=this.getChunkInfo(e),n=t.position+this.chunk.size;return e.rawFile.slice(t.position,n)},e.prototype.getChunkInfo=function(e){var t=this.chunkMap.get(e.uid);if(!t){var n=Math.ceil(e.size/this.chunk.size);t=this.chunkMap.add(e.uid,n)}return t},e.prototype.updateChunkInfo=function(e){var t=this.chunkMap.get(e);t.index<t.totalChunks-1&&(t.index+=1,t.position+=this.chunk.size,t.retries=0)},e.prototype.removeChunkInfo=function(e){this.chunkMap.remove(e)},e.prototype.getChunkMetadata=function(e){var t=this.chunkMap.get(e.uid),n={chunkIndex:t.index,contentType:e.rawFile.type,fileName:e.name,fileSize:e.size,fileUid:e.uid,totalChunks:t.totalChunks};return JSON.stringify(n)},e.prototype.isChunkUploadComplete=function(e){var t=this.chunkMap.get(e);return!!t&&t.index+1===t.totalChunks},e=i.__decorate([r.Injectable(),i.__metadata("design:paramtypes",[o.HttpClient])],e)}();t.UploadService=d},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(20);t.FileState=i.FileState},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(4),o=n(10),r=n(52);t.getTotalFilesSizeMessage=function(e){var t,n=0;if("number"!=typeof e[0].size)return"";for(t=0;t<e.length;t++)e[t].size&&(n+=e[t].size);return(n/=1024)<1024?n.toFixed(2)+" KB":(n/1024).toFixed(2)+" MB"};var a=function(e){var t=e.match(/\.([^\.]+)$/);return t?t[0]:""};t.validateInitialFileInfo=function(e){return!!(e instanceof Object&&e.hasOwnProperty("name"))},t.validateInitialFileSelectFile=function(e){return!!(e instanceof File||t.validateInitialFileInfo(e))},t.getInitialFileInfo=function(e){return e.extension=e.extension||a(e.name),e.name=e.name,e.size=e.size||0,e.hasOwnProperty("state")||(e.state=i.FileState.Initial),e.hasOwnProperty("uid")||(e.uid=o.guid()),e},t.convertFileToFileInfo=function(e){var t=s(e);return t.uid=o.guid(),t.state=i.FileState.Selected,t};var s=function(e){var t=e.name,n=e.size;return{extension:a(t),name:t,rawFile:e,size:n,state:i.FileState.Selected}};t.getAllFileInfo=function(e){var t,n=new Array;for(t=0;t<e.length;t++)n.push(s(e[t]));return n},t.fileHasValidationErrors=function(e){return!!(e.validationErrors&&e.validationErrors.length>0)},t.filesHaveValidationErrors=function(e){for(var n=0,i=e;n<i.length;n++){var o=i[n];if(t.fileHasValidationErrors(o))return!0}return!1},t.inputFiles=function(e){return e.files?t.getAllFileInfo(e.files):e.value.split("|").map((function(e,t){var n,o,r=e.trim();return{extension:a(r),name:(n=r,o=n.lastIndexOf("\\"),-1!==o?n.substr(o+1):n),rawFile:null,size:1e3*(t+1),state:i.FileState.Selected}}))},t.assignGuidToFiles=function(e,t){var n=o.guid();return e.map((function(e){return e.uid=t?o.guid():n,e}))},t.supportsFormData=function(){return"undefined"!=typeof FormData},t.userAgent=function(){return navigator.userAgent};var l=/^(?:a|input|select|textarea|button|object)$/i;t.IGNORE_TARGET_CLASSES="k-icon k-select k-input k-multiselect-wrap",t.UPLOAD_CLASSES="k-upload-button k-clear-selected k-upload-selected k-upload-action";var u=function(e){return String(e).trim().split(" ")};t.hasClasses=function(e,t){var n=u(t);return Boolean(u(e.className).find((function(e){return n.indexOf(e)>=0})))},t.isFocusable=function(e,t){if(void 0===t&&(t=!0),e.tagName){var n=e.tagName.toLowerCase(),i=e.getAttribute("tabIndex"),o=null!==i&&!isNaN(i)&&i>-1;return(l.test(n)?!e.disabled:o)&&(!t||function(e){var t=e.getBoundingClientRect();return!(!t.width||!t.height)&&"hidden"!==window.getComputedStyle(e).visibility}(e))}return!1},t.getFileGroupCssClass=function(e){for(var t in r.fileGroupMap)if(r.fileGroupMap[t].indexOf(e)>=0)return"k-i-file-"+t;return"k-i-file"},t.isPresent=function(e){return null!=e}},function(e,t){e.exports=n},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),o=n(0),r=n(3),a=n(10),s=function(){function e(e){this.uploadService=e,this.onActionButtonAction=new o.EventEmitter,this.onActionButtonFocus=new o.EventEmitter,this.onFileAction=new o.EventEmitter,this.onFileFocus=new o.EventEmitter,this.onTab=new o.EventEmitter,this.onWrapperFocus=new o.EventEmitter,this.onSelectButtonFocus=new o.EventEmitter,this.actionButtonsVisible=!1,this.focused=!1,this._focusedIndex=-1}return e.prototype.action=function(e){var t=e.keyCode;return this.keyBindings[t]},e.prototype.process=function(e){var t=this.action(e);t&&t(e.shiftKey)},e.prototype.computeKeys=function(e){var t,n=this;this.keyBindings=((t={})[a.Keys.Enter]=function(){return n.handleEnter()},t[a.Keys.Escape]=function(){return n.handleEscape()},t[a.Keys.Delete]=function(){return n.handleDelete()},t[a.Keys.Tab]=function(e){return n.handleTab(e)},t[a.Keys.ArrowUp]=function(){return n.handleUp()},t[a.Keys.ArrowDown]=function(){return n.handleDown()},t[this.invertKeys(e,a.Keys.ArrowLeft,a.Keys.ArrowRight)]=function(){return n.handleLeft()},t[this.invertKeys(e,a.Keys.ArrowRight,a.Keys.ArrowLeft)]=function(){return n.handleRight()},t)},e.prototype.invertKeys=function(e,t,n){return"rtl"===e?n:t},e.prototype.focusSelectButton=function(){this.focused=!0,this._focusedIndex=-1,this.onSelectButtonFocus.emit()},e.prototype.handleEnter=function(){if(this.lastIndex>=0){if(this.focusedIndex<=this.lastFileIndex)return void this.onFileAction.emit(a.Keys.Enter);this.actionButtonsVisible&&this.focusedIndex<=this.lastIndex&&this.onActionButtonAction.emit(this.focusedIndex<this.lastIndex?"clear":"upload")}},e.prototype.handleDelete=function(){this.focusedIndex>=0&&this.focusedIndex<=this.lastFileIndex&&this.onFileAction.emit(a.Keys.Delete)},e.prototype.handleEscape=function(){this.focusedIndex>=0&&this.focusedIndex<=this.lastFileIndex&&this.onFileAction.emit(a.Keys.Escape)},e.prototype.handleLeft=function(){this.actionButtonsVisible&&this.focusedIndex===this.lastIndex&&(this.focusedIndex-=1,this.onActionButtonFocus.emit("clear"))},e.prototype.handleRight=function(){this.actionButtonsVisible&&this.focusedIndex===this.lastIndex-1&&(this.focusedIndex+=1,this.onActionButtonFocus.emit("upload"))},e.prototype.handleTab=function(e){this.focusedIndex>=0&&e?this.focusedIndex=-1:this.onTab.emit()},e.prototype.handleDown=function(){if(this.lastIndex>=0&&this.focusedIndex<this.lastIndex){if(this.focusedIndex<this.lastFileIndex)return this.focusedIndex+=1,void this.onFileFocus.emit(this.focusedIndex);this.actionButtonsVisible&&this.focusedIndex===this.lastFileIndex&&(this.focusedIndex+=1,this.onActionButtonFocus.emit("clear"))}},e.prototype.handleUp=function(){if(this.lastIndex>=0&&this.focusedIndex>-1){if(this.focusedIndex-=1,-1===this.focusedIndex)return void this.onSelectButtonFocus.emit();if(this.focusedIndex<=this.lastFileIndex)return void this.onFileFocus.emit(this.focusedIndex);this.actionButtonsVisible&&this.focusedIndex<=this.lastIndex&&(this.focusedIndex=this.lastFileIndex,this.onFileFocus.emit(this.focusedIndex))}},Object.defineProperty(e.prototype,"focusedIndex",{get:function(){return this._focusedIndex},set:function(e){this.focused||this.onWrapperFocus.emit(),this._focusedIndex=e,this.focused=!0,this._focusedIndex>=0&&this._focusedIndex<=this.lastFileIndex&&this.onFileFocus.emit(e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"lastFileIndex",{get:function(){return this.actionButtonsVisible?this.lastIndex-2:this.lastIndex},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"lastIndex",{get:function(){var e=this.uploadService.files.count;return this.actionButtonsVisible?e+1:e-1},enumerable:!0,configurable:!0}),e=i.__decorate([o.Injectable(),i.__metadata("design:paramtypes",[r.UploadService])],e)}();t.NavigationService=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(){this.prevented=!1}return e.prototype.preventDefault=function(){this.prevented=!0},e.prototype.isDefaultPrevented=function(){return this.prevented},e}();t.PreventableEvent=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),o=n(0),r=function(){function e(e){this.templateRef=e}return e=i.__decorate([o.Directive({selector:"[kendoUploadFileTemplate], [kendoFileSelectFileTemplate]"}),i.__metadata("design:paramtypes",[o.TemplateRef])],e)}();t.FileTemplateDirective=r},function(e,t,n){"use strict";n.r(t),n.d(t,"ResizeService",(function(){return x})),n.d(t,"DraggableDirective",(function(){return E})),n.d(t,"DraggableModule",(function(){return k})),n.d(t,"EventsOutsideAngularDirective",(function(){return I})),n.d(t,"EventsModule",(function(){return C})),n.d(t,"ResizeSensorComponent",(function(){return L})),n.d(t,"ResizeBatchService",(function(){return U})),n.d(t,"ResizeCompatService",(function(){return P})),n.d(t,"ResizeObserverService",(function(){return B})),n.d(t,"ResizeSensorModule",(function(){return z})),n.d(t,"KendoInput",(function(){return T})),n.d(t,"isDocumentAvailable",(function(){return y})),n.d(t,"isChanged",(function(){return _})),n.d(t,"anyChanged",(function(){return b})),n.d(t,"hasObservers",(function(){return S})),n.d(t,"guid",(function(){return F})),n.d(t,"Keys",(function(){return p}));var i=n(0),o=function(e,t){return function(n){return t(e(n))}},r=function(e,t,n){return e.addEventListener&&e.addEventListener(t,n)},a=function(e,t,n){return e&&e.removeEventListener&&e.removeEventListener(t,n)},s=function(){},l=function(e){return e.preventDefault()},u=/touch/;function c(e){return e.type.match(u)?{pageX:e.changedTouches[0].pageX,pageY:e.changedTouches[0].pageY,clientX:e.changedTouches[0].clientX,clientY:e.changedTouches[0].clientY,type:e.type,originalEvent:e,isTouch:!0}:{pageX:e.pageX,pageY:e.pageY,clientX:e.clientX,clientY:e.clientY,offsetX:e.offsetX,offsetY:e.offsetY,type:e.type,ctrlKey:e.ctrlKey,shiftKey:e.shiftKey,altKey:e.altKey,originalEvent:e}}var d=function(e){var t=this,n=e.press;void 0===n&&(n=s);var i=e.drag;void 0===i&&(i=s);var u=e.release;void 0===u&&(u=s);var d=e.mouseOnly;void 0===d&&(d=!1),this._pressHandler=o(c,n),this._dragHandler=o(c,i),this._releaseHandler=o(c,u),this._ignoreMouse=!1,this._mouseOnly=d,this._touchstart=function(e){1===e.touches.length&&t._pressHandler(e)},this._touchmove=function(e){1===e.touches.length&&t._dragHandler(e)},this._touchend=function(e){0===e.touches.length&&1===e.changedTouches.length&&(t._releaseHandler(e),t._ignoreMouse=!0,setTimeout(t._restoreMouse,2e3))},this._restoreMouse=function(){t._ignoreMouse=!1},this._mousedown=function(e){var n=e.which;n&&n>1||t._ignoreMouse||(r(document,"mousemove",t._mousemove),r(document,"mouseup",t._mouseup),t._pressHandler(e))},this._mousemove=function(e){t._dragHandler(e)},this._mouseup=function(e){a(document,"mousemove",t._mousemove),a(document,"mouseup",t._mouseup),t._releaseHandler(e)},this._pointerdown=function(e){e.isPrimary&&0===e.button&&(r(document,"pointermove",t._pointermove),r(document,"pointerup",t._pointerup),r(document,"pointercancel",t._pointerup),r(document,"contextmenu",l),t._pressHandler(e))},this._pointermove=function(e){e.isPrimary&&t._dragHandler(e)},this._pointerup=function(e){e.isPrimary&&(a(document,"pointermove",t._pointermove),a(document,"pointerup",t._pointerup),a(document,"pointercancel",t._pointerup),a(document,"contextmenu",l),t._releaseHandler(e))}};d.supportPointerEvent=function(){return"undefined"!=typeof window&&window.PointerEvent},d.prototype.bindTo=function(e){e!==this._element&&(this._element&&this._unbindFromCurrent(),this._element=e,this._bindToCurrent())},d.prototype._bindToCurrent=function(){var e=this._element;this._usePointers()?r(e,"pointerdown",this._pointerdown):(r(e,"mousedown",this._mousedown),this._mouseOnly||(r(e,"touchstart",this._touchstart),r(e,"touchmove",this._touchmove),r(e,"touchend",this._touchend)))},d.prototype._unbindFromCurrent=function(){var e=this._element;if(this._usePointers())return a(e,"pointerdown",this._pointerdown),a(document,"pointermove",this._pointermove),a(document,"pointerup",this._pointerup),a(document,"contextmenu",l),void a(document,"pointercancel",this._pointerup);a(e,"mousedown",this._mousedown),this._mouseOnly||(a(e,"touchstart",this._touchstart),a(e,"touchmove",this._touchmove),a(e,"touchend",this._touchend))},d.prototype._usePointers=function(){return!this._mouseOnly&&d.supportPointerEvent()},d.prototype.update=function(e){var t=e.press;void 0===t&&(t=s);var n=e.drag;void 0===n&&(n=s);var i=e.release;void 0===i&&(i=s);var r=e.mouseOnly;void 0===r&&(r=!1),this._pressHandler=o(c,t),this._dragHandler=o(c,n),this._releaseHandler=o(c,i),this._mouseOnly=r},d.prototype.destroy=function(){this._unbindFromCurrent(),this._element=null},d.default=d;var p,f=d,h=n(15),v=n(11),m=n(1),g=n(6),y=function(){return"undefined"!=typeof document},_=function(e,t,n){return void 0===n&&(n=!0),!(void 0===t[e]||t[e].isFirstChange()&&n||t[e].previousValue===t[e].currentValue)},b=function(e,t,n){return void 0===n&&(n=!0),e.some((function(e){return _(e,t,n)}))},S=function(e){return e&&e.observers.length>0},F=function(){for(var e="",t=0;t<32;t++){var n=16*Math.random()|0;8!==t&&12!==t&&16!==t&&20!==t||(e+="-"),e+=(12===t?4:16===t?3&n|8:n).toString(16)}return e},E=function(){function e(e,t){this.element=e,this.ngZone=t,this.enableDrag=!0,this.kendoPress=new i.EventEmitter,this.kendoDrag=new i.EventEmitter,this.kendoRelease=new i.EventEmitter}return e.prototype.ngOnInit=function(){this.toggleDraggable()},e.prototype.ngOnChanges=function(e){_("enableDrag",e)&&this.toggleDraggable()},e.prototype.ngOnDestroy=function(){this.destroyDraggable()},e.prototype.toggleDraggable=function(){var e=this;y()&&(this.destroyDraggable(),this.enableDrag&&(this.draggable=new f({drag:function(t){return e.kendoDrag.next(t)},press:function(t){return e.kendoPress.next(t)},release:function(t){return e.kendoRelease.next(t)}}),this.ngZone.runOutsideAngular((function(){return e.draggable.bindTo(e.element.nativeElement)}))))},e.prototype.destroyDraggable=function(){this.draggable&&(this.draggable.destroy(),this.draggable=null)},e.decorators=[{type:i.Directive,args:[{selector:"[kendoDraggable]"}]}],e.ctorParameters=function(){return[{type:i.ElementRef},{type:i.NgZone}]},e.propDecorators={enableDrag:[{type:i.Input}],kendoPress:[{type:i.Output}],kendoDrag:[{type:i.Output}],kendoRelease:[{type:i.Output}]},e}(),k=function(){function e(){}return e.decorators=[{type:i.NgModule,args:[{declarations:[E],exports:[E],imports:[h.CommonModule]}]}],e}(),I=function(){function e(e,t,n){this.element=e,this.ngZone=t,this.renderer=n,this.events={}}return e.prototype.ngOnInit=function(){var e=this;if(this.element&&this.element.nativeElement){var t=this.events;this.subscriptions=[],this.ngZone.runOutsideAngular((function(){for(var n in t)t.hasOwnProperty(n)&&e.subscriptions.push(e.renderer.listen(e.element.nativeElement,n,e.scope?t[n].bind(e.scope):t[n]))}))}},e.prototype.ngOnDestroy=function(){if(this.subscriptions){for(var e=0;e<this.subscriptions.length;e++)this.subscriptions[e]();this.subscriptions=null}},e.decorators=[{type:i.Directive,args:[{selector:"[kendoEventsOutsideAngular]"}]}],e.ctorParameters=function(){return[{type:i.ElementRef},{type:i.NgZone},{type:i.Renderer2}]},e.propDecorators={events:[{type:i.Input,args:["kendoEventsOutsideAngular"]}],scope:[{type:i.Input}]},e}(),C=function(){function e(){}return e.decorators=[{type:i.NgModule,args:[{declarations:[I],exports:[I]}]}],e}(),x=function(){function e(e){this.resizeBatchService=e,this.resize=new i.EventEmitter,this.acceptedSize=!1,this.state=0}return e.prototype.acceptSize=function(e){void 0===e&&(e=this.measure()),this.lastWidth=e.width,this.lastHeight=e.height,this.acceptedSize=!0},e.prototype.checkChanges=function(){y()&&0===this.state&&(this.state=1,this.resizeBatchService.schedule(this,this.init))},e.prototype.destroy=function(){this.resizeBatchService.cancel(this)},e.prototype.checkSize=function(){if(this.parentElement){var e=this.measure(),t=e.width,n=e.height;if(!(t===this.lastWidth&&n===this.lastHeight))return this.lastWidth=t,this.lastHeight=n,this.acceptedSize=!1,this.resize.emit(),!0}},e.prototype.initSize=function(){var e=this.measure();this.lastWidth=e.width,this.lastHeight=e.height},e.prototype.measure=function(){var e=0,t=0;return this.parentElement&&(t=this.parentElement.offsetHeight,e=this.parentElement.offsetWidth),{height:t,width:e}},e}(),O=function(e){var t=document.createElement("div");return t.style.cssText=e,t},w="position: absolute; display: block; left: 0; top: 0; right: 0; bottom: 0; z-index: -1;overflow: hidden; visibility: hidden;",P=function(e){function t(t,n,i){var o=e.call(this,t)||this;return o.element=n,o.ngZone=i,o}return Object(m.__extends)(t,e),t.prototype.checkChanges=function(){2!==this.state?e.prototype.checkChanges.call(this):this.resizeBatchService.isScheduled(this)||this.resizeBatchService.schedule(this,this.checkSize)},t.prototype.destroy=function(){if(e.prototype.destroy.call(this),this.subscription&&this.subscription.unsubscribe(),this.expand){var t=this.element.nativeElement;t.removeChild(this.expand),t.removeChild(this.shrink),this.expand.removeChild(this.expandChild),this.expand=this.expandChild=this.shrink=this.element=null}},t.prototype.checkSize=function(){if(e.prototype.checkSize.call(this))return this.reset(),!0},t.prototype.init=function(){var e,t=this.parentElement=this.element.nativeElement.parentElement;"static"===(e="position",getComputedStyle(t,null).getPropertyValue(e))&&(t.style.position="relative"),this.state=2,this.render(),this.reset(),this.initSize(),this.subscribe()},t.prototype.render=function(){var e=this.element.nativeElement;e.style.cssText=w,e.setAttribute("dir","ltr"),this.expand=O(w),this.expandChild=O("position: absolute; left: 0; top: 0; transition: 0s;"),this.expand.appendChild(this.expandChild),e.appendChild(this.expand),this.shrink=O(w);var t=O("position: absolute; left: 0; top: 0; transition: 0s;width: 200%; height: 200%;");this.shrink.appendChild(t),e.appendChild(this.shrink)},t.prototype.reset=function(){var e=this.expandChild;e.style.width="100000px",e.style.height="100000px";var t=this.expand;t.scrollLeft=1e5,t.scrollTop=1e5;var n=this.shrink;n.scrollLeft=1e5,n.scrollTop=1e5},t.prototype.subscribe=function(){var e=this;this.ngZone.runOutsideAngular((function(){e.subscription=Object(g.merge)(Object(g.fromEvent)(e.shrink,"scroll"),Object(g.fromEvent)(e.expand,"scroll")).subscribe((function(){e.checkSize()}))}))},t}(x),D="undefined"!=typeof ResizeObserver,B=function(e){function t(t,n,i){var o=e.call(this,t)||this;return o.element=n,o.ngZone=i,o}return Object(m.__extends)(t,e),t.supported=function(){return D},t.prototype.destroy=function(){e.prototype.destroy.call(this),this.resizeObserver&&(this.resizeObserver.disconnect(),this.resizeObserver=null),this.parentElement=null},t.prototype.init=function(){var e=this;this.parentElement=this.element.nativeElement.parentElement,this.initSize(),this.state=2,this.ngZone.runOutsideAngular((function(){e.resizeObserver=new ResizeObserver((function(){e.checkSize()})),e.resizeObserver.observe(e.parentElement)}))},t}(x),U=function(){function e(e){this.ngZone=e,this.scheduled=[],this.resolvedPromise=Promise.resolve(null),this.flush=this.flush.bind(this)}return e.prototype.schedule=function(e,t){var n=this;this.scheduled.push({instance:e,method:t}),this.subscription||this.ngZone.runOutsideAngular((function(){n.subscription=Object(g.from)(n.resolvedPromise).subscribe(n.flush)}))},e.prototype.isScheduled=function(e){return Boolean(this.scheduled.find((function(t){return t.instance===e})))},e.prototype.cancel=function(e){for(var t=this.scheduled,n=t.length,i=0;i<n;i++)if(t[i].instance===e)return t.splice(i,1),void(t.length||this.unsubscribe())},e.prototype.ngOnDestroy=function(){this.unsubscribe()},e.prototype.unsubscribe=function(){this.subscription&&(this.subscription.unsubscribe(),this.subscription=null)},e.prototype.flush=function(){this.scheduled.forEach((function(e){e.method.call(e.instance)})),this.scheduled=[],this.unsubscribe()},e.decorators=[{type:i.Injectable}],e.ctorParameters=function(){return[{type:i.NgZone}]},e}(),L=function(){function e(e,t,n){var o=this;this.rateLimit=10,this.resize=new i.EventEmitter;var r=B.supported()?B:P;this.resizeService=new r(e,t,n);var a=1e3/(this.rateLimit||10);this.subscription=this.resizeService.resize.pipe(Object(v.auditTime)(a)).subscribe((function(){o.resizeService.acceptedSize||o.resize.emit()}))}return e.prototype.ngAfterViewChecked=function(){this.resizeService.checkChanges()},e.prototype.ngOnDestroy=function(){this.subscription.unsubscribe(),this.resizeService.destroy()},e.prototype.acceptSize=function(e){this.resizeService.acceptSize(e)},e.decorators=[{type:i.Component,args:[{selector:"kendo-resize-sensor",template:""}]}],e.ctorParameters=function(){return[{type:U},{type:i.ElementRef},{type:i.NgZone}]},e.propDecorators={rateLimit:[{type:i.Input}],resize:[{type:i.Output}]},e}(),j=[L],z=function(){function e(){}return e.decorators=[{type:i.NgModule,args:[{declarations:[j],exports:[j],providers:[U]}]}],e}(),T=function(){};!function(e){e[e.Alt=18]="Alt",e[e.ArrowDown=40]="ArrowDown",e[e.ArrowLeft=37]="ArrowLeft",e[e.ArrowRight=39]="ArrowRight",e[e.ArrowUp=38]="ArrowUp",e[e.Backspace=8]="Backspace",e[e.Control=17]="Control",e[e.Delete=46]="Delete",e[e.Digit0=48]="Digit0",e[e.Digit1=49]="Digit1",e[e.Digit2=50]="Digit2",e[e.Digit3=51]="Digit3",e[e.Digit4=52]="Digit4",e[e.Digit5=53]="Digit5",e[e.Digit6=54]="Digit6",e[e.Digit7=55]="Digit7",e[e.Digit8=56]="Digit8",e[e.Digit9=57]="Digit9",e[e.End=35]="End",e[e.Enter=13]="Enter",e[e.Escape=27]="Escape",e[e.F1=112]="F1",e[e.F2=113]="F2",e[e.F10=121]="F10",e[e.Home=36]="Home",e[e.Insert=45]="Insert",e[e.KeyA=65]="KeyA",e[e.KeyB=66]="KeyB",e[e.KeyC=67]="KeyC",e[e.KeyD=68]="KeyD",e[e.KeyE=69]="KeyE",e[e.KeyF=70]="KeyF",e[e.KeyG=71]="KeyG",e[e.KeyH=72]="KeyH",e[e.KeyI=73]="KeyI",e[e.KeyJ=74]="KeyJ",e[e.KeyK=75]="KeyK",e[e.KeyL=76]="KeyL",e[e.KeyM=77]="KeyM",e[e.KeyN=78]="KeyN",e[e.KeyO=79]="KeyO",e[e.KeyP=80]="KeyP",e[e.KeyQ=81]="KeyQ",e[e.KeyR=82]="KeyR",e[e.KeyS=83]="KeyS",e[e.KeyT=84]="KeyT",e[e.KeyU=85]="KeyU",e[e.KeyV=86]="KeyV",e[e.KeyW=87]="KeyW",e[e.KeyX=88]="KeyX",e[e.KeyY=89]="KeyY",e[e.KeyZ=90]="KeyZ",e[e.NumpadDecimal=110]="NumpadDecimal",e[e.PageDown=34]="PageDown",e[e.PageUp=33]="PageUp",e[e.Shift=16]="Shift",e[e.Space=32]="Space",e[e.Tab=9]="Tab"}(p||(p={}))},function(e,t){e.exports=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),o=n(0),r={},a=function(){function e(){}return e.prototype.addComponent=function(e,t){this.has(t)?r[t].push(e):r[t]=[e]},e.prototype.getComponents=function(e){return r[e]},e.prototype.has=function(e){return e in r},e=i.__decorate([o.Injectable()],e)}();t.DropZoneService=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.INVALIDMAXFILESIZE="invalidMaxFileSize",t.INVALIDMINFILESIZE="invalidMinFileSize",t.INVALIDFILEEXTENSION="invalidFileExtension";var i=function(e,n){n.length>0&&n.indexOf(e.extension.toLowerCase())<0&&(e.validationErrors=e.validationErrors||[],e.validationErrors.indexOf(t.INVALIDFILEEXTENSION)<0&&e.validationErrors.push(t.INVALIDFILEEXTENSION))},o=function(e,n,i){0!==n&&e.size<n&&(e.validationErrors=e.validationErrors||[],e.validationErrors.indexOf(t.INVALIDMINFILESIZE)<0&&e.validationErrors.push(t.INVALIDMINFILESIZE)),0!==i&&e.size>i&&(e.validationErrors=e.validationErrors||[],e.validationErrors.indexOf(t.INVALIDMAXFILESIZE)<0&&e.validationErrors.push(t.INVALIDMAXFILESIZE))};t.validateFiles=function(e,t){var n,r=t.allowedExtensions.map((function(e){return("."===e.substring(0,1)?e:"."+e).toLowerCase()})),a=t.maxFileSize,s=t.minFileSize;for(n=0;n<e.length;n++)i(e[n],r),o(e[n],s,a)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),o=n(19),r=n(0),a=n(18),s=n(10),l=n(2),u=n(6),c=n(11),d=n(4),p=n(7),f=n(9),h=n(3),v=n(5),m=n(12);t.UPLOAD_VALUE_ACCESSOR={multi:!0,provide:a.NG_VALUE_ACCESSOR,useExisting:r.forwardRef((function(){return g}))};var g=function(){function e(e,t,n,i,o,a,l,u){var c=this;this.uploadService=e,this.localization=t,this.navigation=n,this.dropZoneService=i,this._ngZone=o,this.renderer=a,this.cdr=l,this.chunkable=!1,this.multiple=!0,this.disabled=!1,this.showFileList=!0,this.tabindex=0,this.focusableId="k-"+s.guid(),this.onBlur=new r.EventEmitter,this.cancel=new r.EventEmitter,this.clear=new r.EventEmitter,this.complete=new r.EventEmitter,this.error=new r.EventEmitter,this.onFocus=new r.EventEmitter,this.pause=new r.EventEmitter,this.remove=new r.EventEmitter,this.resume=new r.EventEmitter,this.select=new r.EventEmitter,this.success=new r.EventEmitter,this.upload=new r.EventEmitter,this.uploadProgress=new r.EventEmitter,this.valueChange=new r.EventEmitter,this.hostDefaultClasses=!0,this._restrictions={allowedExtensions:[],maxFileSize:0,minFileSize:0},this.onTouchedCallback=function(e){},this.onChangeCallback=function(e){},this.fileList=this.uploadService.files,this.localizationChangeSubscription=t.changes.subscribe((function(e){var t=e.rtl;c.direction=t?"rtl":"ltr",c.navigation.computeKeys(c.direction)})),this.direction=t.rtl?"rtl":"ltr",this.navigation.computeKeys(this.direction),this.wrapper=u.nativeElement,this.subscribeBlur(),this.subscribeFocus(),this.attachEventHandlers()}var n;return n=e,Object.defineProperty(e.prototype,"autoUpload",{get:function(){return this.uploadService.async.autoUpload},set:function(e){this.uploadService.async.autoUpload=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"batch",{get:function(){return this.uploadService.async.batch},set:function(e){this.uploadService.async.batch=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"withCredentials",{get:function(){return this.uploadService.async.withCredentials},set:function(e){this.uploadService.async.withCredentials=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"saveField",{get:function(){return this.uploadService.async.saveField},set:function(e){this.uploadService.async.saveField=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"saveHeaders",{get:function(){return this.uploadService.async.saveHeaders},set:function(e){this.uploadService.async.saveHeaders=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"saveMethod",{get:function(){return this.uploadService.async.saveMethod},set:function(e){this.uploadService.async.saveMethod=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"saveUrl",{get:function(){return this.uploadService.async.saveUrl},set:function(e){this.uploadService.async.saveUrl=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"responseType",{get:function(){return this.uploadService.async.responseType},set:function(e){this.uploadService.async.responseType=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"removeField",{get:function(){return this.uploadService.async.removeField},set:function(e){this.uploadService.async.removeField=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"removeHeaders",{get:function(){return this.uploadService.async.removeHeaders},set:function(e){this.uploadService.async.removeHeaders=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"removeMethod",{get:function(){return this.uploadService.async.removeMethod},set:function(e){this.uploadService.async.removeMethod=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"removeUrl",{get:function(){return this.uploadService.async.removeUrl},set:function(e){this.uploadService.async.removeUrl=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"concurrent",{get:function(){return this.uploadService.async.concurrent},set:function(e){this.uploadService.async.concurrent=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"tabIndex",{get:function(){return this.tabindex},set:function(e){this.tabindex=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"restrictions",{get:function(){return this._restrictions},set:function(e){var t=Object.assign({},this._restrictions,e);this._restrictions=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"hostDisabledClass",{get:function(){return this.disabled},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"dir",{get:function(){return this.direction},enumerable:!0,configurable:!0}),e.prototype.ngOnInit=function(){this.verifySettings(),this.renderer.removeAttribute(this.wrapper,"tabindex"),this.uploadService.setChunkSettings(this.chunkable),this.zoneId&&this.dropZoneService.addComponent(this,this.zoneId)},e.prototype.ngOnChanges=function(e){if(s.isChanged("chunkable",e)){var t=e.chunkable.currentValue;"boolean"==typeof t&&(this.uploadService.async.chunk=t),"object"==typeof t&&null!==t&&(this.uploadService.async.chunk=!0,this.uploadService.chunk=Object.assign({},this.uploadService.chunk,t))}},e.prototype.ngOnDestroy=function(){this.fileList.clear(),this.blurSubscription&&this.blurSubscription.unsubscribe(),this.wrapperFocusSubscription&&this.wrapperFocusSubscription.unsubscribe(),this.selectButtonFocusSubscription&&this.selectButtonFocusSubscription.unsubscribe(),this.localizationChangeSubscription&&this.localizationChangeSubscription.unsubscribe(),this.subs&&this.subs.unsubscribe()},e.prototype.handleKeydown=function(e){if(!this.disabled)return e.keyCode!==s.Keys.Enter&&e.keyCode!==s.Keys.Space||e.target!==this.fileSelectButton.nativeElement?void((v.hasClasses(e.target,v.UPLOAD_CLASSES)||!v.isFocusable(e.target)&&!v.hasClasses(e.target,v.IGNORE_TARGET_CLASSES))&&this.navigation.process(e)):(e.preventDefault(),void this.fileSelect.nativeElement.click())},e.prototype.writeValue=function(e){var t=!0;e instanceof Array&&(e.forEach((function(e){v.validateInitialFileInfo(e)||(t=!1)})),t&&this.uploadService.addInitialFiles(e)),null===e&&this.fileList.clear(),this.cdr.markForCheck()},e.prototype.registerOnChange=function(e){this.onChangeCallback=e},e.prototype.registerOnTouched=function(e){this.onTouchedCallback=e},e.prototype.setDisabledState=function(e){this.disabled=e},Object.defineProperty(e.prototype,"selectButtonTabIndex",{get:function(){return this.disabled?void 0:this.tabIndex},enumerable:!0,configurable:!0}),e.prototype.onFileSelectButtonFocus=function(e){this.renderer.addClass(this.fileSelectButton.nativeElement,"k-state-focused"),this.navigation.focused||(this.navigation.focusedIndex=-1)},e.prototype.onFileSelectButtonBlur=function(e){this.renderer.removeClass(this.fileSelectButton.nativeElement,"k-state-focused")},Object.defineProperty(e.prototype,"showActionButtons",{get:function(){var e=!1;if(!this.autoUpload){var t=this.fileList.filesToUpload.length>0,n=this.fileList.hasFileWithState([d.FileState.Uploading]);this.concurrent&&t&&(e=!0),this.concurrent||!t||n||(e=!0)}return this.navigation.actionButtonsVisible=e,e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"showTotalStatus",{get:function(){var e=[d.FileState.Uploaded,d.FileState.Uploading,d.FileState.Failed,d.FileState.Paused];return!!this.fileList.hasFileWithState(e)},enumerable:!0,configurable:!0}),e.prototype.textFor=function(e){return this.localization.get(e)},e.prototype.focus=function(){var e=this;setTimeout((function(){e.fileSelectButton.nativeElement.focus()}))},e.prototype.focusComponent=function(){this.focus()},e.prototype.blur=function(){this.navigation.focused&&(this.navigation.focused=!1,document.activeElement.blur(),this.onBlur.emit())},e.prototype.blurComponent=function(){this.blur()},e.prototype.pauseFileByUid=function(e){this.uploadService.pauseFile(e)},e.prototype.resumeFileByUid=function(e){this.uploadService.resumeFile(e)},e.prototype.removeFilesByUid=function(e){this.uploadService.removeFiles(e)},e.prototype.retryUploadByUid=function(e){this.uploadService.retryFiles(e)},e.prototype.cancelUploadByUid=function(e){this.uploadService.cancelFiles(e)},e.prototype.uploadFiles=function(){this.fileList.filesToUpload.length&&this.uploadService.uploadFiles()},e.prototype.clearFiles=function(){this.uploadService.clearFiles()},e.prototype.addFiles=function(e){this.uploadService.addFiles(e)},e.prototype.isEmpty=function(){return!1},e.prototype.verifySettings=function(){if(r.isDevMode()&&this.batch&&!1!==this.chunkable)throw new Error("The file chunking functionality requires the batch setting to be disabled.")},e.prototype.subscribeBlur=function(){var e=this;s.isDocumentAvailable()&&this._ngZone.runOutsideAngular((function(){e.documentClick=u.fromEvent(document,"click").pipe(c.filter((function(t){return!(e.wrapper!==t.target&&e.wrapper.contains(t.target))}))),e.blurSubscription=u.merge(e.documentClick,e.navigation.onTab).subscribe((function(){e.navigation.focused&&e._ngZone.run((function(){e.navigation.focused=!1,e.onTouchedCallback(),e.onBlur.emit()}))}))}))},e.prototype.subscribeFocus=function(){var e=this;this.wrapperFocusSubscription=this.navigation.onWrapperFocus.subscribe((function(){e.onFocus.emit()})),this.selectButtonFocusSubscription=this.navigation.onSelectButtonFocus.subscribe((function(){e.fileSelectButton.nativeElement.focus()}))},e.prototype.attachEventHandlers=function(){var e=this;this.subs=this.uploadService.cancelEvent.subscribe((function(t){e.cancel.emit(t)})),this.subs.add(this.uploadService.changeEvent.subscribe((function(t){e.onChangeCallback(t),e.valueChange.emit(t)}))),this.subs.add(this.uploadService.clearEvent.subscribe((function(t){e.clear.emit(t)}))),this.subs.add(this.uploadService.completeEvent.subscribe((function(){e.complete.emit()}))),this.subs.add(this.uploadService.errorEvent.subscribe((function(t){e.error.emit(t)}))),this.subs.add(this.uploadService.pauseEvent.subscribe((function(t){e.pause.emit(t)}))),this.subs.add(this.uploadService.removeEvent.subscribe((function(t){e.remove.emit(t)}))),this.subs.add(this.uploadService.resumeEvent.subscribe((function(t){e.resume.emit(t)}))),this.subs.add(this.uploadService.selectEvent.subscribe((function(t){e.select.emit(t)}))),this.subs.add(this.uploadService.successEvent.subscribe((function(t){e.success.emit(t)}))),this.subs.add(this.uploadService.uploadEvent.subscribe((function(t){e.upload.emit(t)}))),this.subs.add(this.uploadService.uploadProgressEvent.subscribe((function(t){e.uploadProgress.emit(t)})))},i.__decorate([r.Input(),i.__metadata("design:type",Boolean),i.__metadata("design:paramtypes",[Boolean])],e.prototype,"autoUpload",null),i.__decorate([r.Input(),i.__metadata("design:type",Boolean),i.__metadata("design:paramtypes",[Boolean])],e.prototype,"batch",null),i.__decorate([r.Input(),i.__metadata("design:type",Boolean),i.__metadata("design:paramtypes",[Boolean])],e.prototype,"withCredentials",null),i.__decorate([r.Input(),i.__metadata("design:type",String),i.__metadata("design:paramtypes",[String])],e.prototype,"saveField",null),i.__decorate([r.Input(),i.__metadata("design:type",o.HttpHeaders),i.__metadata("design:paramtypes",[o.HttpHeaders])],e.prototype,"saveHeaders",null),i.__decorate([r.Input(),i.__metadata("design:type",String),i.__metadata("design:paramtypes",[String])],e.prototype,"saveMethod",null),i.__decorate([r.Input(),i.__metadata("design:type",String),i.__metadata("design:paramtypes",[String])],e.prototype,"saveUrl",null),i.__decorate([r.Input(),i.__metadata("design:type",String),i.__metadata("design:paramtypes",[String])],e.prototype,"responseType",null),i.__decorate([r.Input(),i.__metadata("design:type",String),i.__metadata("design:paramtypes",[String])],e.prototype,"removeField",null),i.__decorate([r.Input(),i.__metadata("design:type",o.HttpHeaders),i.__metadata("design:paramtypes",[o.HttpHeaders])],e.prototype,"removeHeaders",null),i.__decorate([r.Input(),i.__metadata("design:type",String),i.__metadata("design:paramtypes",[String])],e.prototype,"removeMethod",null),i.__decorate([r.Input(),i.__metadata("design:type",String),i.__metadata("design:paramtypes",[String])],e.prototype,"removeUrl",null),i.__decorate([r.Input(),i.__metadata("design:type",Object)],e.prototype,"chunkable",void 0),i.__decorate([r.Input(),i.__metadata("design:type",Boolean),i.__metadata("design:paramtypes",[Boolean])],e.prototype,"concurrent",null),i.__decorate([r.Input(),i.__metadata("design:type",Boolean)],e.prototype,"multiple",void 0),i.__decorate([r.Input(),i.__metadata("design:type",Boolean)],e.prototype,"disabled",void 0),i.__decorate([r.Input(),i.__metadata("design:type",Boolean)],e.prototype,"showFileList",void 0),i.__decorate([r.Input(),i.__metadata("design:type",Number)],e.prototype,"tabindex",void 0),i.__decorate([r.Input(),i.__metadata("design:type",String)],e.prototype,"zoneId",void 0),i.__decorate([r.Input("tabIndex"),i.__metadata("design:type",Number),i.__metadata("design:paramtypes",[Number])],e.prototype,"tabIndex",null),i.__decorate([r.Input(),i.__metadata("design:type",String)],e.prototype,"accept",void 0),i.__decorate([r.Input(),i.__metadata("design:type",Object),i.__metadata("design:paramtypes",[Object])],e.prototype,"restrictions",null),i.__decorate([r.Input(),i.__metadata("design:type",String)],e.prototype,"focusableId",void 0),i.__decorate([r.ContentChild(f.FileTemplateDirective),i.__metadata("design:type",f.FileTemplateDirective)],e.prototype,"fileTemplate",void 0),i.__decorate([r.ViewChild("fileSelect"),i.__metadata("design:type",r.ElementRef)],e.prototype,"fileSelect",void 0),i.__decorate([r.ViewChild("fileSelectButton"),i.__metadata("design:type",r.ElementRef)],e.prototype,"fileSelectButton",void 0),i.__decorate([r.Output("blur"),i.__metadata("design:type",r.EventEmitter)],e.prototype,"onBlur",void 0),i.__decorate([r.Output(),i.__metadata("design:type",r.EventEmitter)],e.prototype,"cancel",void 0),i.__decorate([r.Output(),i.__metadata("design:type",r.EventEmitter)],e.prototype,"clear",void 0),i.__decorate([r.Output(),i.__metadata("design:type",r.EventEmitter)],e.prototype,"complete",void 0),i.__decorate([r.Output(),i.__metadata("design:type",r.EventEmitter)],e.prototype,"error",void 0),i.__decorate([r.Output("focus"),i.__metadata("design:type",r.EventEmitter)],e.prototype,"onFocus",void 0),i.__decorate([r.Output(),i.__metadata("design:type",r.EventEmitter)],e.prototype,"pause",void 0),i.__decorate([r.Output(),i.__metadata("design:type",r.EventEmitter)],e.prototype,"remove",void 0),i.__decorate([r.Output(),i.__metadata("design:type",r.EventEmitter)],e.prototype,"resume",void 0),i.__decorate([r.Output(),i.__metadata("design:type",r.EventEmitter)],e.prototype,"select",void 0),i.__decorate([r.Output(),i.__metadata("design:type",r.EventEmitter)],e.prototype,"success",void 0),i.__decorate([r.Output(),i.__metadata("design:type",r.EventEmitter)],e.prototype,"upload",void 0),i.__decorate([r.Output(),i.__metadata("design:type",r.EventEmitter)],e.prototype,"uploadProgress",void 0),i.__decorate([r.Output(),i.__metadata("design:type",r.EventEmitter)],e.prototype,"valueChange",void 0),i.__decorate([r.HostBinding("class.k-widget"),r.HostBinding("class.k-upload"),i.__metadata("design:type",Boolean)],e.prototype,"hostDefaultClasses",void 0),i.__decorate([r.HostBinding("class.k-state-disabled"),i.__metadata("design:type",Boolean),i.__metadata("design:paramtypes",[])],e.prototype,"hostDisabledClass",null),i.__decorate([r.HostBinding("attr.dir"),i.__metadata("design:type",String),i.__metadata("design:paramtypes",[])],e.prototype,"dir",null),i.__decorate([r.HostListener("keydown",["$event"]),i.__metadata("design:type",Function),i.__metadata("design:paramtypes",[Object]),i.__metadata("design:returntype",void 0)],e.prototype,"handleKeydown",null),e=n=i.__decorate([r.Component({exportAs:"kendoUpload",providers:[l.LocalizationService,p.NavigationService,h.UploadService,m.DropZoneService,t.UPLOAD_VALUE_ACCESSOR,{provide:l.L10N_PREFIX,useValue:"kendo.upload"},{provide:s.KendoInput,useExisting:r.forwardRef((function(){return n}))}],selector:"kendo-upload",template:'\n    <ng-container kendoUploadLocalizedMessages\n      i18n-cancel="kendo.upload.cancel|The text for the Cancel button"\n      cancel="Cancel"\n\n      i18n-clearSelectedFiles="kendo.upload.clearSelectedFiles|The text for the Clear button"\n      clearSelectedFiles="Clear"\n\n      i18n-dropFilesHere="kendo.upload.dropFilesHere|The drop zone hint"\n      dropFilesHere="Drop files here to upload"\n\n      i18n-filesBatchStatus="kendo.upload.filesBatchStatus|The status message for a batch of files"\n      filesBatchStatus="files"\n\n      i18n-filesBatchStatusFailed="kendo.upload.filesBatchStatusFailed|The status message for a batch of files after failed upload"\n      filesBatchStatusFailed="files failed to upload."\n\n      i18n-filesBatchStatusUploaded="kendo.upload.filesBatchStatusUploaded|The status message for a batch of files after successful upload"\n      filesBatchStatusUploaded="files successfully uploaded."\n\n      i18n-fileStatusFailed="kendo.upload.fileStatusFailed|The file status message after failed upload"\n      fileStatusFailed="File failed to upload."\n\n      i18n-fileStatusUploaded="kendo.upload.fileStatusUploaded|The file status message after successful upload"\n      fileStatusUploaded="File successfully uploaded."\n\n      i18n-headerStatusPaused="kendo.upload.headerStatusPaused|The header status message when the file upload is paused"\n      headerStatusPaused="Paused"\n\n      i18n-headerStatusUploaded="kendo.upload.headerStatusUploaded|The header status message after file upload completion"\n      headerStatusUploaded="Done"\n\n      i18n-headerStatusUploading="kendo.upload.headerStatusUploading|The header status message during file upload"\n      headerStatusUploading="Uploading..."\n\n      i18n-invalidFileExtension="kendo.upload.invalidFileExtension|The text for the invalid allowed extensions restriction message"\n      invalidFileExtension="File type not allowed."\n\n      i18n-invalidMaxFileSize="kendo.upload.invalidMaxFileSize|The text for the invalid max file size restriction message"\n      invalidMaxFileSize="File size too large."\n\n      i18n-invalidMinFileSize="kendo.upload.invalidMinFileSize|The text for the invalid min file size restriction message"\n      invalidMinFileSize="File size too small."\n\n      i18n-pause="kendo.upload.pause|The text for the Pause button"\n      pause="Pause"\n\n      i18n-remove="kendo.upload.remove|The text for the Remove button"\n      remove="Remove"\n\n      i18n-resume="kendo.upload.resume|The text for the Resume button"\n      resume="Resume"\n\n      i18n-retry="kendo.upload.retry|The text for the Retry button"\n      retry="Retry"\n\n      i18n-select="kendo.upload.select|The text for the Select button"\n      select="Select files..."\n\n      i18n-uploadSelectedFiles="kendo.upload.uploadSelectedFiles|The text for the Upload files button"\n      uploadSelectedFiles="Upload"\n    >\n    </ng-container>\n    <div kendoUploadInternalDropZone\n      [restrictions]="restrictions"\n      [multiple]="multiple"\n      [disabled]="disabled">\n        <div role="button" #fileSelectButton\n             [id]="focusableId"\n             [attr.aria-label]="textFor(\'select\')"\n             [attr.tabindex]="selectButtonTabIndex"\n             (focus)="onFileSelectButtonFocus($event)"\n             (blur)="onFileSelectButtonBlur($event)"\n             class="k-button k-upload-button">\n          <input #fileSelect kendoFileSelect\n            [attr.accept]="accept ? accept : null"\n            [dir]="direction"\n            [restrictions]="restrictions"\n            [multiple]="multiple"\n            [disabled]="disabled" />\n          <span>{{textFor(\'select\')}}</span>\n        </div>\n        <kendo-upload-status-total *ngIf="showTotalStatus"\n          class="k-upload-status k-upload-status-total"\n          [fileList]="fileList">\n        </kendo-upload-status-total>\n        <div class="k-dropzone-hint">{{textFor(\'dropFilesHere\')}}</div>\n    </div>\n    <ul kendo-upload-file-list *ngIf="showFileList && fileList.count > 0"\n        class="k-upload-files k-reset"\n        [disabled]="disabled"\n        [fileList]="fileList.files"\n        [fileTemplate]="fileTemplate">\n    </ul>\n    <kendo-upload-action-buttons\n      *ngIf="showActionButtons"\n      [disabled]="disabled">\n    </kendo-upload-action-buttons>\n  '}),i.__metadata("design:paramtypes",[h.UploadService,l.LocalizationService,p.NavigationService,m.DropZoneService,r.NgZone,r.Renderer2,r.ChangeDetectorRef,r.ElementRef])],e)}();t.UploadComponent=g},function(e,t){e.exports=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),o=n(0),r=n(17),a=n(23),s=[r.FileSelectComponent],l=function(){function e(){}return e=i.__decorate([o.NgModule({declarations:[s],exports:[a.PUBLIC_DIRECTIVES,s],imports:[a.SharedModule]})],e)}();t.FileSelectModule=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),o=n(0),r=n(18),a=n(2),s=n(10),l=n(6),u=n(11),c=n(3),d=n(7),p=n(5),f=n(9),h=n(20),v=n(12);t.FILESELECT_VALUE_ACCESSOR={multi:!0,provide:r.NG_VALUE_ACCESSOR,useExisting:o.forwardRef((function(){return m}))};var m=function(){function e(e,t,n,i,r,a,l,u){var c=this;this.uploadService=e,this.localization=t,this.navigation=n,this.dropZoneService=i,this.ngZone=r,this.renderer=a,this.cdr=l,this.disabled=!1,this.multiple=!0,this.showFileList=!0,this.tabindex=0,this.focusableId="k-"+s.guid(),this.onBlur=new o.EventEmitter,this.onFocus=new o.EventEmitter,this.select=new o.EventEmitter,this.remove=new o.EventEmitter,this.valueChange=new o.EventEmitter,this.hostDefaultClasses=!0,this._restrictions={allowedExtensions:[],maxFileSize:0,minFileSize:0},this.onTouchedCallback=function(e){},this.onChangeCallback=function(e){},this.wrapper=u.nativeElement,this.direction=t.rtl?"rtl":"ltr",this.navigation.computeKeys(this.direction),this.fileList=this.uploadService.files,this.localizationChangeSubscription=t.changes.subscribe((function(e){var t=e.rtl;c.direction=t?"rtl":"ltr",c.navigation.computeKeys(c.direction)})),this.subscribeBlur(),this.subscribeFocus(),this.attachEventHandlers(),this.setDefaultSettings()}var n;return n=e,Object.defineProperty(e.prototype,"name",{get:function(){return this.uploadService.async.saveField},set:function(e){this.uploadService.async.saveField=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"restrictions",{get:function(){return this._restrictions},set:function(e){var t=Object.assign({},this._restrictions,e);this._restrictions=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"hostDisabledClass",{get:function(){return this.disabled},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"dir",{get:function(){return this.direction},enumerable:!0,configurable:!0}),e.prototype.ngOnInit=function(){this.renderer.removeAttribute(this.wrapper,"tabindex"),this.zoneId&&this.dropZoneService.addComponent(this,this.zoneId)},e.prototype.textFor=function(e){return this.localization.get(e)},e.prototype.focus=function(){var e=this;setTimeout((function(){e.fileSelectButton.nativeElement.focus()}))},e.prototype.ngOnDestroy=function(){this.fileList.clear(),this.blurSubscription&&this.blurSubscription.unsubscribe(),this.wrapperFocusSubscription&&this.wrapperFocusSubscription.unsubscribe(),this.selectButtonFocusSubscription&&this.selectButtonFocusSubscription.unsubscribe(),this.localizationChangeSubscription&&this.localizationChangeSubscription.unsubscribe(),this.subs&&this.subs.unsubscribe()},e.prototype.handleKeydown=function(e){if(!this.disabled)return e.keyCode!==s.Keys.Enter&&e.keyCode!==s.Keys.Space||e.target!==this.fileSelectButton.nativeElement?void((p.hasClasses(e.target,p.UPLOAD_CLASSES)||!p.isFocusable(e.target)&&!p.hasClasses(e.target,p.IGNORE_TARGET_CLASSES))&&this.navigation.process(e)):(e.preventDefault(),void this.fileSelect.nativeElement.click())},e.prototype.writeValue=function(e){var t=!0;e instanceof Array&&(e.forEach((function(e){p.validateInitialFileSelectFile(e)||(t=!1)})),t&&this.uploadService.addInitialFileSelectFiles(e)),null===e&&this.fileList.clear(),this.cdr.markForCheck()},e.prototype.registerOnChange=function(e){this.onChangeCallback=e},e.prototype.registerOnTouched=function(e){this.onTouchedCallback=e},e.prototype.setDisabledState=function(e){this.disabled=e},e.prototype.removeFileByUid=function(e){this.uploadService.removeFiles(e)},e.prototype.clearFiles=function(){this.uploadService.clearFiles()},e.prototype.isEmpty=function(){return!1},e.prototype.addFiles=function(e){this.uploadService.addFiles(e)},Object.defineProperty(e.prototype,"selectButtonTabIndex",{get:function(){return this.disabled?void 0:this.tabindex},enumerable:!0,configurable:!0}),e.prototype.onFileSelectButtonFocus=function(e){this.renderer.addClass(this.fileSelectButton.nativeElement,"k-state-focused"),this.navigation.focused||(this.navigation.focusedIndex=-1)},e.prototype.onFileSelectButtonBlur=function(e){this.renderer.removeClass(this.fileSelectButton.nativeElement,"k-state-focused")},e.prototype.subscribeBlur=function(){var e=this;s.isDocumentAvailable()&&this.ngZone.runOutsideAngular((function(){e.documentClick=l.fromEvent(document,"click").pipe(u.filter((function(t){return!(e.wrapper!==t.target&&e.wrapper.contains(t.target))}))),e.blurSubscription=l.merge(e.documentClick,e.navigation.onTab).subscribe((function(){e.navigation.focused&&e.ngZone.run((function(){e.navigation.focused=!1,e.onTouchedCallback(),e.onBlur.emit()}))}))}))},e.prototype.subscribeFocus=function(){var e=this;this.wrapperFocusSubscription=this.navigation.onWrapperFocus.subscribe((function(){e.onFocus.emit()})),this.selectButtonFocusSubscription=this.navigation.onSelectButtonFocus.subscribe((function(){e.fileSelectButton.nativeElement.focus()}))},e.prototype.attachEventHandlers=function(){var e=this;this.subs=this.uploadService.changeEvent.subscribe((function(t){var n=[];null!==t&&t.forEach((function(e){e.state===h.FileState.Initial&&n.push(e),e.state===h.FileState.Selected&&e.rawFile&&!e.validationErrors&&n.push(e.rawFile)})),0===n.length&&(n=null),e.onChangeCallback(n),e.valueChange.emit(n)})),this.subs.add(this.uploadService.removeEvent.subscribe((function(t){e.remove.emit(t)}))),this.subs.add(this.uploadService.selectEvent.subscribe((function(t){e.select.emit(t)})))},e.prototype.setDefaultSettings=function(){this.uploadService.async.autoUpload=!1,this.uploadService.component="FileSelect"},i.__decorate([o.Input(),i.__metadata("design:type",String)],e.prototype,"accept",void 0),i.__decorate([o.Input(),i.__metadata("design:type",Boolean)],e.prototype,"disabled",void 0),i.__decorate([o.Input(),i.__metadata("design:type",Boolean)],e.prototype,"multiple",void 0),i.__decorate([o.Input(),i.__metadata("design:type",String),i.__metadata("design:paramtypes",[String])],e.prototype,"name",null),i.__decorate([o.Input(),i.__metadata("design:type",Boolean)],e.prototype,"showFileList",void 0),i.__decorate([o.Input(),i.__metadata("design:type",Number)],e.prototype,"tabindex",void 0),i.__decorate([o.Input(),i.__metadata("design:type",Object),i.__metadata("design:paramtypes",[Object])],e.prototype,"restrictions",null),i.__decorate([o.Input(),i.__metadata("design:type",String)],e.prototype,"zoneId",void 0),i.__decorate([o.Input(),i.__metadata("design:type",String)],e.prototype,"focusableId",void 0),i.__decorate([o.ContentChild(f.FileTemplateDirective),i.__metadata("design:type",f.FileTemplateDirective)],e.prototype,"fileTemplate",void 0),i.__decorate([o.ViewChild("fileSelect"),i.__metadata("design:type",o.ElementRef)],e.prototype,"fileSelect",void 0),i.__decorate([o.ViewChild("fileSelectButton"),i.__metadata("design:type",o.ElementRef)],e.prototype,"fileSelectButton",void 0),i.__decorate([o.Output("blur"),i.__metadata("design:type",o.EventEmitter)],e.prototype,"onBlur",void 0),i.__decorate([o.Output("focus"),i.__metadata("design:type",o.EventEmitter)],e.prototype,"onFocus",void 0),i.__decorate([o.Output(),i.__metadata("design:type",o.EventEmitter)],e.prototype,"select",void 0),i.__decorate([o.Output(),i.__metadata("design:type",o.EventEmitter)],e.prototype,"remove",void 0),i.__decorate([o.Output(),i.__metadata("design:type",o.EventEmitter)],e.prototype,"valueChange",void 0),i.__decorate([o.HostBinding("class.k-widget"),o.HostBinding("class.k-upload"),i.__metadata("design:type",Boolean)],e.prototype,"hostDefaultClasses",void 0),i.__decorate([o.HostBinding("class.k-state-disabled"),i.__metadata("design:type",Boolean),i.__metadata("design:paramtypes",[])],e.prototype,"hostDisabledClass",null),i.__decorate([o.HostBinding("attr.dir"),i.__metadata("design:type",String),i.__metadata("design:paramtypes",[])],e.prototype,"dir",null),i.__decorate([o.HostListener("keydown",["$event"]),i.__metadata("design:type",Function),i.__metadata("design:paramtypes",[Object]),i.__metadata("design:returntype",void 0)],e.prototype,"handleKeydown",null),e=n=i.__decorate([o.Component({exportAs:"kendoFileSelect",providers:[a.LocalizationService,d.NavigationService,c.UploadService,v.DropZoneService,t.FILESELECT_VALUE_ACCESSOR,{provide:a.L10N_PREFIX,useValue:"kendo.fileselect"},{provide:s.KendoInput,useExisting:o.forwardRef((function(){return n}))}],selector:"kendo-fileselect",template:'\n        <ng-container kendoFileSelectLocalizedMessages\n            i18n-dropFilesHere="kendo.fileselect.dropFilesHere|The drop zone hint"\n            dropFilesHere="Drop files here to select"\n\n            i18n-invalidFileExtension="kendo.fileselect.invalidFileExtension|The text for the invalid allowed extensions restriction message"\n            invalidFileExtension="File type not allowed."\n\n            i18n-invalidMaxFileSize="kendo.fileselect.invalidMaxFileSize|The text for the invalid max file size restriction message"\n            invalidMaxFileSize="File size too large."\n\n            i18n-invalidMinFileSize="kendo.fileselect.invalidMinFileSize|The text for the invalid min file size restriction message"\n            invalidMinFileSize="File size too small."\n\n            i18n-remove="kendo.fileselect.remove|The text for the Remove button"\n            remove="Remove"\n\n            i18n-select="kendo.fileselect.select|The text for the Select button"\n            select="Select files..."\n        >\n        </ng-container>\n        <div kendoFileSelectInternalDropZone\n            [restrictions]="restrictions"\n            [multiple]="multiple"\n            [disabled]="disabled">\n            <div role="button" #fileSelectButton\n                [id]="focusableId"\n                [attr.aria-label]="textFor(\'select\')"\n                [attr.tabindex]="selectButtonTabIndex"\n                (focus)="onFileSelectButtonFocus($event)"\n                (blur)="onFileSelectButtonBlur($event)"\n                class="k-button k-upload-button">\n                <input #fileSelect kendoFileSelect\n                    [attr.accept]="accept ? accept : null"\n                    [dir]="direction"\n                    [restrictions]="restrictions"\n                    [multiple]="multiple"\n                    [disabled]="disabled" />\n                <span>{{textFor(\'select\')}}</span>\n            </div>\n            <div class="k-dropzone-hint">{{textFor(\'dropFilesHere\')}}</div>\n        </div>\n        <ul kendo-upload-file-list\n            class="k-upload-files k-reset"\n            *ngIf="showFileList && fileList.count > 0"\n            [disabled]="disabled"\n            [fileList]="fileList.files"\n            [fileTemplate]="fileTemplate">\n        </ul>\n    '}),i.__metadata("design:paramtypes",[c.UploadService,a.LocalizationService,d.NavigationService,v.DropZoneService,o.NgZone,o.Renderer2,o.ChangeDetectorRef,o.ElementRef])],e)}();t.FileSelectComponent=m},function(e,t){e.exports=r},function(e,t){e.exports=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e[e.Failed=0]="Failed",e[e.Initial=1]="Initial",e[e.Selected=2]="Selected",e[e.Uploaded=3]="Uploaded",e[e.Uploading=4]="Uploading",e[e.Paused=5]="Paused"}(t.FileState||(t.FileState={}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(4),o=function(){function e(){this._files={}}return e.prototype.add=function(e){var t=e.uid;this.has(t)?e.validationErrors&&e.validationErrors.length>0?this._files[t].unshift(e):this._files[t].push(e):this._files[t]=[e]},e.prototype.remove=function(e){this.has(e)&&(this._files[e]=null,delete this._files[e])},e.prototype.clear=function(){var e=this._files;for(var t in e)if(e.hasOwnProperty(t)){for(var n=0,i=e[t];n<i.length;n++){var o=i[n];o.httpSubscription&&o.httpSubscription.unsubscribe()}e[t]=null,delete e[t]}},e.prototype.has=function(e){return e in this._files},e.prototype.get=function(e){return this._files[e]},e.prototype.setFilesState=function(e,t){for(var n=0,i=e;n<i.length;n++){var o=i[n];this.setFilesStateByUid(o.uid,t)}},e.prototype.setFilesStateByUid=function(e,t){this.get(e).forEach((function(e){e.state=t}))},Object.defineProperty(e.prototype,"count",{get:function(){return Object.getOwnPropertyNames(this._files).length},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"files",{get:function(){var e=this._files,t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(e[n]);return t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"filesFlat",{get:function(){var e=this._files,t=[];for(var n in e){if(e.hasOwnProperty(n))e[n].forEach((function(e){t.push(e)}))}return t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"filesToUpload",{get:function(){var e=this._files,t=[];for(var n in e)if(e.hasOwnProperty(n)){for(var o=e[n],r=!0,a=0,s=o;a<s.length;a++){var l=s[a];(l.state!==i.FileState.Selected||l.validationErrors&&l.validationErrors.length>0)&&(r=!1)}r&&t.push(o)}return t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"firstFileToUpload",{get:function(){var e=this._files;for(var t in e)if(e.hasOwnProperty(t)){for(var n=e[t],o=!0,r=0,a=n;r<a.length;r++){var s=a[r];(s.state!==i.FileState.Selected||s.validationErrors&&s.validationErrors.length>0)&&(o=!1)}if(o)return n}return null},enumerable:!0,configurable:!0}),e.prototype.hasFileWithState=function(e){var t=this._files;for(var n in t)if(t.hasOwnProperty(n))for(var i=0,o=t[n];i<o.length;i++){var r=o[i];if(e.indexOf(r.state)>=0)return!0}return!1},e}();t.FileMap=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(42);t.CancelEvent=i.CancelEvent;var o=n(43);t.ClearEvent=o.ClearEvent;var r=n(44);t.ErrorEvent=r.ErrorEvent;var a=n(45);t.PauseEvent=a.PauseEvent;var s=n(46);t.RemoveEvent=s.RemoveEvent;var l=n(47);t.ResumeEvent=l.ResumeEvent;var u=n(48);t.SelectEvent=u.SelectEvent;var c=n(49);t.SuccessEvent=c.SuccessEvent;var d=n(50);t.UploadEvent=d.UploadEvent;var p=n(51);t.UploadProgressEvent=p.UploadProgressEvent},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),o=n(0),r=n(15),a=n(24),s=n(54),l=n(27),u=n(28),c=n(29),d=n(30),p=n(33),f=n(34),h=n(9),v=n(55),m=n(35),g=n(36),y=n(37);t.SHARED_DECLARATIONS=[s.DropZoneInternalDirective,l.FileListComponent,u.FileListItemDirective,c.FileListItemActionButtonComponent,d.FileListMultipleItemsComponent,p.FileListSingleItemComponent,f.FileSelectDirective,v.LocalizedMessagesDirective,m.TemplateContextDirective],t.PUBLIC_DIRECTIVES=[h.FileTemplateDirective,a.CustomMessagesComponent,g.UploadDropZoneDirective,y.UploadDropZoneComponent];var _=function(){function e(){}return e=i.__decorate([o.NgModule({declarations:[t.PUBLIC_DIRECTIVES,t.SHARED_DECLARATIONS],exports:[t.PUBLIC_DIRECTIVES,t.SHARED_DECLARATIONS,r.CommonModule],imports:[r.CommonModule]})],e)}();t.SharedModule=_},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),o=n(0),r=n(25),a=n(2),s=function(e){function t(t){var n=e.call(this)||this;return n.service=t,n}var n;return i.__extends(t,e),n=t,Object.defineProperty(t.prototype,"override",{get:function(){return!0},enumerable:!0,configurable:!0}),t=n=i.__decorate([o.Component({providers:[{provide:r.Messages,useExisting:o.forwardRef((function(){return n}))}],selector:"kendo-upload-messages, kendo-fileselect-messages, kendo-uploaddropzone-messages",template:""}),i.__metadata("design:paramtypes",[a.LocalizationService])],t)}(r.Messages);t.CustomMessagesComponent=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),o=n(0),r=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i.__extends(t,e),i.__decorate([o.Input(),i.__metadata("design:type",String)],t.prototype,"cancel",void 0),i.__decorate([o.Input(),i.__metadata("design:type",String)],t.prototype,"clearSelectedFiles",void 0),i.__decorate([o.Input(),i.__metadata("design:type",String)],t.prototype,"dropFilesHere",void 0),i.__decorate([o.Input(),i.__metadata("design:type",String)],t.prototype,"externalDropFilesHere",void 0),i.__decorate([o.Input(),i.__metadata("design:type",String)],t.prototype,"filesBatchStatus",void 0),i.__decorate([o.Input(),i.__metadata("design:type",String)],t.prototype,"filesBatchStatusFailed",void 0),i.__decorate([o.Input(),i.__metadata("design:type",String)],t.prototype,"filesBatchStatusUploaded",void 0),i.__decorate([o.Input(),i.__metadata("design:type",String)],t.prototype,"fileStatusFailed",void 0),i.__decorate([o.Input(),i.__metadata("design:type",String)],t.prototype,"fileStatusUploaded",void 0),i.__decorate([o.Input(),i.__metadata("design:type",String)],t.prototype,"headerStatusPaused",void 0),i.__decorate([o.Input(),i.__metadata("design:type",String)],t.prototype,"headerStatusUploaded",void 0),i.__decorate([o.Input(),i.__metadata("design:type",String)],t.prototype,"headerStatusUploading",void 0),i.__decorate([o.Input(),i.__metadata("design:type",String)],t.prototype,"invalidFileExtension",void 0),i.__decorate([o.Input(),i.__metadata("design:type",String)],t.prototype,"invalidMaxFileSize",void 0),i.__decorate([o.Input(),i.__metadata("design:type",String)],t.prototype,"invalidMinFileSize",void 0),i.__decorate([o.Input(),i.__metadata("design:type",String)],t.prototype,"pause",void 0),i.__decorate([o.Input(),i.__metadata("design:type",String)],t.prototype,"remove",void 0),i.__decorate([o.Input(),i.__metadata("design:type",String)],t.prototype,"resume",void 0),i.__decorate([o.Input(),i.__metadata("design:type",String)],t.prototype,"retry",void 0),i.__decorate([o.Input(),i.__metadata("design:type",String)],t.prototype,"select",void 0),i.__decorate([o.Input(),i.__metadata("design:type",String)],t.prototype,"uploadSelectedFiles",void 0),t}(n(2).ComponentMessages);t.Messages=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),o=n(0),r=function(){function e(e,t,n){this.element=e,this.renderer=t,this.hideIntervalElement=null,this.hoverClass=n}return e.prototype.onElementDragEnterListener=function(){var e=this;return this.addClass(this.hoverClass),this.lastDragElement=new Date,this.hideIntervalElement||(this.hideIntervalElement=setInterval((function(){e.calculateTimeDiff(e.lastDragElement)<100||(e.removeClass(e.hoverClass),clearInterval(e.hideIntervalElement),e.hideIntervalElement=null)}),100)),!1},e.prototype.onElementDragOverListener=function(){return this.lastDragElement=new Date,!1},e.prototype.calculateTimeDiff=function(e){return(new Date).getTime()-e.getTime()},e.prototype.addClass=function(e){this.renderer.addClass(this.element.nativeElement,e)},e.prototype.removeClass=function(e){this.renderer.removeClass(this.element.nativeElement,e)},i.__decorate([o.HostListener("dragenter"),i.__metadata("design:type",Function),i.__metadata("design:paramtypes",[]),i.__metadata("design:returntype",Boolean)],e.prototype,"onElementDragEnterListener",null),i.__decorate([o.HostListener("dragover"),i.__metadata("design:type",Function),i.__metadata("design:paramtypes",[]),i.__metadata("design:returntype",Boolean)],e.prototype,"onElementDragOverListener",null),e}();t.DropZoneBase=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),o=n(0),r=n(10),a=n(4),s=n(9),l=n(28),u=n(7),c=n(3),d=function(){function e(e,t){this.uploadService=e,this.navigation=t,this.onItemFocus(),this.onItemAction()}return e.prototype.onItemFocus=function(){var e=this;this.focusSubscription=this.navigation.onFileFocus.subscribe((function(t){e.fileListItems.toArray()[t].focus()}))},e.prototype.onItemAction=function(){var e=this;this.actionSubscription=this.navigation.onFileAction.subscribe((function(t){e.itemActionHandler(t)}))},e.prototype.itemActionHandler=function(e){var t=this.navigation.focusedIndex,n=this.fileListItems.toArray()[t],i=n.uidAttribute,o=this.uploadService.files.get(i);if(e===r.Keys.Escape&&o[0].state===a.FileState.Uploading)return this.uploadService.cancelFiles(i),void this.navigation.focusSelectButton();e!==r.Keys.Enter||o[0].state!==a.FileState.Failed?e===r.Keys.Delete&&(o[0].state===a.FileState.Uploading?this.uploadService.cancelFiles(i):this.hasDelete(n)&&this.uploadService.removeFiles(i),this.navigation.focusSelectButton()):this.uploadService.retryFiles(i)},e.prototype.hasDelete=function(e){return e.element.nativeElement.getElementsByClassName("k-delete").length>0},e.prototype.ngOnDestroy=function(){this.focusSubscription.unsubscribe(),this.actionSubscription.unsubscribe()},i.__decorate([o.Input(),i.__metadata("design:type",Boolean)],e.prototype,"disabled",void 0),i.__decorate([o.Input(),i.__metadata("design:type",Array)],e.prototype,"fileList",void 0),i.__decorate([o.Input(),i.__metadata("design:type",s.FileTemplateDirective)],e.prototype,"fileTemplate",void 0),i.__decorate([o.ViewChildren(l.FileListItemDirective),i.__metadata("design:type",o.QueryList)],e.prototype,"fileListItems",void 0),e=i.__decorate([o.Component({selector:"[kendo-upload-file-list]",template:"\n    <ng-template ngFor\n      [ngForOf]=\"fileList\"\n      let-files\n      let-index=\"index\">\n      <li kendoUploadFileListItem [files]='files' [index]='index'>\n          <kendo-upload-file-list-single-item\n            class='k-file-single'\n            *ngIf='files.length === 1 && !fileTemplate'\n            [disabled]='disabled'\n            [file]='files[0]'>\n          </kendo-upload-file-list-single-item>\n          <kendo-upload-file-list-multiple-items\n            class='k-file-multiple'\n            *ngIf='files.length > 1 && !fileTemplate'\n            [disabled]='disabled'\n            [files]='files'>\n          </kendo-upload-file-list-multiple-items>\n          <ng-template *ngIf=\"fileTemplate\"\n              [templateContext]=\"{\n                templateRef: fileTemplate.templateRef,\n                state: files[0].state,\n                $implicit: files\n              }\"></ng-template>\n      </li>\n    </ng-template>\n    "}),i.__metadata("design:paramtypes",[c.UploadService,u.NavigationService])],e)}();t.FileListComponent=d},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),o=n(0),r=n(4),a=n(7),s=n(5),l=n(3),u=function(){function e(e,t,n){this.navigationService=t,this.uploadService=n,this.fileClass=!0,this.focused=!1,this.element=e}return e.prototype.focus=function(){this.element.nativeElement.focus()},Object.defineProperty(e.prototype,"uidAttribute",{get:function(){return this.files[0].uid},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"tabIndex",{get:function(){return"-1"},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"kFileError",{get:function(){return this.files[0].state===r.FileState.Failed},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"kFileInvalid",{get:function(){return s.filesHaveValidationErrors(this.files)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"kFileProgress",{get:function(){return this.files[0].state===r.FileState.Uploading||this.files[0].state===r.FileState.Paused},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"kFileSuccess",{get:function(){return"Upload"===this.uploadService.component&&(this.files[0].state===r.FileState.Uploaded||this.files[0].state===r.FileState.Initial)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"kStateFocused",{get:function(){return this.focused},enumerable:!0,configurable:!0}),e.prototype.onFocus=function(){this.focused=!0},e.prototype.onBlur=function(){this.focused=!1},e.prototype.onClick=function(e){s.isFocusable(e.target)||s.hasClasses(e.target,s.IGNORE_TARGET_CLASSES)||(this.navigationService.focusedIndex=this.index)},i.__decorate([o.Input(),i.__metadata("design:type",Array)],e.prototype,"files",void 0),i.__decorate([o.Input(),i.__metadata("design:type",Number)],e.prototype,"index",void 0),i.__decorate([o.HostBinding("class.k-file"),i.__metadata("design:type",Boolean)],e.prototype,"fileClass",void 0),i.__decorate([o.HostBinding("attr.data-uid"),i.__metadata("design:type",String),i.__metadata("design:paramtypes",[])],e.prototype,"uidAttribute",null),i.__decorate([o.HostBinding("attr.tabIndex"),i.__metadata("design:type",String),i.__metadata("design:paramtypes",[])],e.prototype,"tabIndex",null),i.__decorate([o.HostBinding("class.k-file-error"),i.__metadata("design:type",Boolean),i.__metadata("design:paramtypes",[])],e.prototype,"kFileError",null),i.__decorate([o.HostBinding("class.k-file-invalid"),i.__metadata("design:type",Boolean),i.__metadata("design:paramtypes",[])],e.prototype,"kFileInvalid",null),i.__decorate([o.HostBinding("class.k-file-progress"),i.__metadata("design:type",Boolean),i.__metadata("design:paramtypes",[])],e.prototype,"kFileProgress",null),i.__decorate([o.HostBinding("class.k-file-success"),i.__metadata("design:type",Boolean),i.__metadata("design:paramtypes",[])],e.prototype,"kFileSuccess",null),i.__decorate([o.HostBinding("class.k-state-focused"),i.__metadata("design:type",Boolean),i.__metadata("design:paramtypes",[])],e.prototype,"kStateFocused",null),i.__decorate([o.HostListener("focus"),i.__metadata("design:type",Function),i.__metadata("design:paramtypes",[]),i.__metadata("design:returntype",void 0)],e.prototype,"onFocus",null),i.__decorate([o.HostListener("blur"),i.__metadata("design:type",Function),i.__metadata("design:paramtypes",[]),i.__metadata("design:returntype",void 0)],e.prototype,"onBlur",null),i.__decorate([o.HostListener("click",["$event"]),i.__metadata("design:type",Function),i.__metadata("design:paramtypes",[Object]),i.__metadata("design:returntype",void 0)],e.prototype,"onClick",null),e=i.__decorate([o.Directive({selector:"[kendoUploadFileListItem]"}),i.__metadata("design:paramtypes",[o.ElementRef,a.NavigationService,l.UploadService])],e)}();t.FileListItemDirective=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),o=n(0),r=n(4),a=n(3),s=n(2),l=function(){function e(e,t){this.uploadService=e,this.localization=t,this.actionFocused=!1,this.retryFocused=!1,this.pauseResumeFocused=!1}return e.prototype.onFocus=function(e){"action"===e&&(this.actionFocused=!0),"retry"===e&&(this.retryFocused=!0),"pauseResume"===e&&(this.pauseResumeFocused=!0)},e.prototype.onBlur=function(e){"retry"===e&&(this.retryFocused=!1),"action"===e&&(this.actionFocused=!1),"pauseResume"===e&&(this.pauseResumeFocused=!1)},e.prototype.onRetryClick=function(){this.disabled||this.uploadService.retryFiles(this.file.uid)},e.prototype.onRemoveCancelClick=function(){if(!this.disabled){var e=this.file.uid;this.file.state===r.FileState.Uploading?this.uploadService.cancelFiles(e):this.uploadService.removeFiles(e)}},e.prototype.onPauseResumeClick=function(){if(!this.disabled){var e=this.file.uid;this.file.state===r.FileState.Paused?this.uploadService.resumeFile(e):this.uploadService.pauseFile(e)}},Object.defineProperty(e.prototype,"actionButtonTitle",{get:function(){return this.file.state===r.FileState.Uploading?this.localization.get("cancel"):this.localization.get("remove")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"retryButtonTitle",{get:function(){return this.localization.get("retry")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"pauseResumeButtonTitle",{get:function(){return this.file.state===r.FileState.Uploading?this.localization.get("pause"):this.localization.get("resume")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isUploading",{get:function(){return this.file.state===r.FileState.Uploading},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isFailed",{get:function(){return this.file.state===r.FileState.Failed},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isPaused",{get:function(){return this.file.state===r.FileState.Paused},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isResumable",{get:function(){var e=this.uploadService,t=e.async.chunk&&e.chunk.resumable,n=this.file.state===r.FileState.Paused||this.file.state===r.FileState.Uploading;return t&&n},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isActionButtonVisible",{get:function(){return!!(this.file.state!==r.FileState.Uploaded&&this.file.state!==r.FileState.Initial||this.uploadService.async.removeUrl||"Upload"!==this.uploadService.component)},enumerable:!0,configurable:!0}),i.__decorate([o.Input(),i.__metadata("design:type",Object)],e.prototype,"file",void 0),i.__decorate([o.Input(),i.__metadata("design:type",Boolean)],e.prototype,"disabled",void 0),i.__decorate([o.Input(),i.__metadata("design:type",Number)],e.prototype,"progress",void 0),e=i.__decorate([o.Component({selector:"kendo-upload-file-list-item-action-button",template:'\n      <strong class="k-upload-status">\n        <span class="k-upload-pct" *ngIf="isUploading || isPaused">{{progress}}%</span>\n\n        <button type="button" *ngIf="isFailed" class="k-button k-button-icon k-flat k-upload-action"\n          [ngClass]="{ \'k-state-focused\': this.retryFocused }"\n          [attr.tabIndex]="-1"\n          (focus)="onFocus(\'retry\')"\n          (blur)="onBlur(\'retry\')"\n          (click)="onRetryClick()">\n          <span class="k-icon k-retry k-i-refresh-sm"\n            [attr.aria-label]="retryButtonTitle"\n            [attr.title]="retryButtonTitle">\n          </span>\n        </button>\n\n        <button *ngIf="isResumable" type="button" class="k-button k-button-icon k-flat k-upload-action"\n          [ngClass]="{ \'k-state-focused\': this.pauseResumeFocused }"\n          [attr.tabIndex]="-1"\n          (focus)="onFocus(\'pauseResume\')"\n          (blur)="onBlur(\'pauseResume\')"\n          (click)="onPauseResumeClick()">\n          <span class="k-icon"\n            [ngClass]="{\n              \'k-i-play-sm\': isPaused,\n              \'k-i-pause-sm\': !isPaused\n            }"\n            [attr.aria-label]=\'pauseResumeButtonTitle\'\n            [attr.title]=\'pauseResumeButtonTitle\'>\n          </span>\n        </button>\n\n        <button type="button" *ngIf="isActionButtonVisible" class="k-button k-button-icon k-flat k-upload-action"\n          [ngClass]="{ \'k-state-focused\': this.actionFocused }"\n          [attr.tabIndex]="-1"\n          (focus)="onFocus(\'action\')"\n          (blur)="onBlur(\'action\')"\n          (click)="onRemoveCancelClick()">\n          <span class="k-icon"\n            [ngClass]="{\n              \'k-i-cancel\': isUploading,\n              \'k-delete k-i-x\': !isUploading\n            }"\n            [attr.aria-label]=\'actionButtonTitle\'\n            [attr.title]=\'actionButtonTitle\'>\n          </span>\n        </button>\n      </strong>\n    '}),i.__metadata("design:paramtypes",[a.UploadService,s.LocalizationService])],e)}();t.FileListItemActionButtonComponent=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),o=n(0),r=n(31),a=n(4),s=n(32),l=n(2),u=n(3),c=n(5),d=function(e){function t(t,n){var i=e.call(this,n)||this;return i.localization=t,i.subscribeUploadProgress((function(e){e.files[0].uid===i.files[0].uid&&(i.progressComplete=e.percentComplete)})),i}return i.__extends(t,e),Object.defineProperty(t.prototype,"showProgress",{get:function(){return this.files[0].state===a.FileState.Uploading||this.files[0].state===a.FileState.Paused?"active":"inactive"},enumerable:!0,configurable:!0}),t.prototype.ngOnInit=function(){this.filesHaveErrors=e.prototype.filesHaveValidationErrors.call(this,this.files)},t.prototype.fileStatusText=function(e){var t=e.validationErrors;return c.isPresent(t)?this.getFileValidationMessage(e):this.getTotalFilesSizeMessage([e])},Object.defineProperty(t.prototype,"batchStatusText",{get:function(){var e=this.files[0].state,t=this.files.length;return e===a.FileState.Uploaded?t+" "+this.textFor("filesBatchStatusUploaded"):e===a.FileState.Failed?t+" "+this.textFor("filesBatchStatusFailed"):t+" "+this.textFor("filesBatchStatus")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isUploadSuccessful",{get:function(){return this.files[0].state===a.FileState.Uploaded},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isUploadFailed",{get:function(){return this.files[0].state===a.FileState.Failed},enumerable:!0,configurable:!0}),i.__decorate([o.Input(),i.__metadata("design:type",Boolean)],t.prototype,"disabled",void 0),i.__decorate([o.Input(),i.__metadata("design:type",Array)],t.prototype,"files",void 0),t=i.__decorate([o.Component({animations:[r.trigger("progressState",[r.state("active",r.style({opacity:1})),r.state("inactive",r.style({opacity:0})),r.transition("void => active",r.style({opacity:0})),r.transition("inactive => active",r.style({opacity:1})),r.transition("active => inactive",r.animate("1s 2s ease-out"))])],selector:"kendo-upload-file-list-multiple-items",template:'\n      <div class="k-progressbar" [@progressState]="showProgress">\n        <span class="k-progress" [style.width]="progressComplete + \'%\'"></span>\n      </div>\n      <span class="k-multiple-files-group-wrapper">\n        <span class="k-file-group k-icon k-i-copy"></span>\n      </span>\n      <span class="k-multiple-files-wrapper">\n        <span *ngFor="let file of files" class="k-file-name-size-wrapper">\n            <span [title]="file.name" class="k-file-name">\n                {{file.name}}\n            </span>\n            <span [ngClass]="{\n                    \'k-text-error\': file.validationErrors,\n                    \'k-file-validation-message\': file.validationErrors,\n                    \'k-file-size\': !file.validationErrors\n                  }"\n            >{{fileStatusText(file)}}</span>\n        </span>\n        <span class="k-file-information"\n          [ngClass]="{\n            \'k-text-success\': isUploadSuccessful,\n            \'k-text-error\': isUploadFailed\n          }"\n        >{{batchStatusText}}</span>\n      </span>\n      <kendo-upload-file-list-item-action-button\n        [file]=\'files[0]\'\n        [disabled]=\'disabled\'\n        [progress]=\'progressComplete\'>\n      </kendo-upload-file-list-item-action-button>\n    '}),i.__metadata("design:paramtypes",[l.LocalizationService,u.UploadService])],t)}(s.FileListItemBase);t.FileListMultipleItemsComponent=d},function(e,t){e.exports=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(5),o=function(){function e(e){this.uploadService=e,this.progressComplete=0}return e.prototype.subscribeUploadProgress=function(e){this.uploadProgressSubscription=this.uploadService.uploadProgressEvent.subscribe(e)},e.prototype.fileHasValidationErrors=function(e){return i.fileHasValidationErrors(e)},e.prototype.filesHaveValidationErrors=function(e){return i.filesHaveValidationErrors(e)},e.prototype.ngOnDestroy=function(){this.uploadProgressSubscription.unsubscribe()},e.prototype.getFileValidationMessage=function(e){var t;return e.validationErrors&&e.validationErrors.length>0&&(t=this.localization.get(e.validationErrors[0])),t},e.prototype.getTotalFilesSizeMessage=function(e){return i.getTotalFilesSizeMessage(e)},e.prototype.textFor=function(e){return this.localization.get(e)},e}();t.FileListItemBase=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),o=n(0),r=n(31),a=n(4),s=n(32),l=n(2),u=n(3),c=n(5),d=function(e){function t(t,n){var i=e.call(this,n)||this;return i.localization=t,i.subscribeUploadProgress((function(e){e.files[0].uid===i.file.uid&&(i.progressComplete=e.percentComplete)})),i}return i.__extends(t,e),Object.defineProperty(t.prototype,"fileStatusText",{get:function(){var e=this.file.validationErrors;return this.file.state===a.FileState.Uploaded?""+this.textFor("fileStatusUploaded"):this.file.state===a.FileState.Failed?""+this.textFor("fileStatusFailed"):c.isPresent(e)?this.getFileValidationMessage(this.file):this.getTotalFilesSizeMessage([this.file])},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"showProgress",{get:function(){return this.file.state===a.FileState.Uploading||this.file.state===a.FileState.Paused?"active":"inactive"},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fileGroupClass",{get:function(){return c.getFileGroupCssClass(this.file.extension?this.file.extension:"")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isUploadSuccessful",{get:function(){return this.file.state===a.FileState.Uploaded},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isUploadFailed",{get:function(){return this.file.state===a.FileState.Failed},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isNotYetUploaded",{get:function(){return!this.isUploadFailed&&!this.isUploadSuccessful},enumerable:!0,configurable:!0}),i.__decorate([o.Input(),i.__metadata("design:type",Boolean)],t.prototype,"disabled",void 0),i.__decorate([o.Input(),i.__metadata("design:type",Object)],t.prototype,"file",void 0),t=i.__decorate([o.Component({animations:[r.trigger("progressState",[r.state("active",r.style({opacity:1})),r.state("inactive",r.style({opacity:0})),r.transition("void => active",r.style({opacity:0})),r.transition("inactive => active",r.style({opacity:1})),r.transition("active => inactive",r.animate("1s 2s ease-out"))])],selector:"kendo-upload-file-list-single-item",template:'\n      <div class="k-progressbar" [@progressState]="showProgress">\n        <span class="k-progress" [style.width]="progressComplete + \'%\'"></span>\n      </div>\n      <span class="k-file-group-wrapper">\n        <span class="k-file-group k-icon" [ngClass]="fileGroupClass"></span>\n      </span>\n      <span class="k-file-name-size-wrapper">\n        <span class="k-file-name" [title]="file.name">{{ file.name }}</span>\n        <span [ngClass]="{\n                \'k-file-validation-message\': file.validationErrors,\n                \'k-file-size\': !file.validationErrors && isNotYetUploaded,\n                \'k-text-success\': isUploadSuccessful,\n                \'k-text-error\': file.validationErrors || isUploadFailed,\n                \'k-file-information\': isUploadSuccessful || isUploadFailed\n              }"\n        >{{fileStatusText}}</span>\n      </span>\n      <kendo-upload-file-list-item-action-button\n        [file]=\'file\'\n        [disabled]=\'disabled\'\n        [progress]=\'progressComplete\'>\n      </kendo-upload-file-list-item-action-button>\n    '}),i.__metadata("design:paramtypes",[l.LocalizationService,u.UploadService])],t)}(s.FileListItemBase);t.FileListSingleItemComponent=d},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),o=n(0),r=n(7),a=n(3),s=n(5),l=n(13),u=function(){function e(e,t,n){this.uploadService=e,this.navigation=t,this.type="file",this.autocomplete="off",this.tabIndex=-1,this.element=n}return Object.defineProperty(e.prototype,"nameAttribute",{get:function(){return this.uploadService.async.saveField},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"multipleAttribute",{get:function(){return this.multiple?"multiple":null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"dirAttribute",{get:function(){return this.dir},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"disabledAttribute",{get:function(){return this.disabled?"true":null},enumerable:!0,configurable:!0}),e.prototype.onInputChange=function(e){var t=this,n=navigator.userAgent,i=s.inputFiles(e.target);i=s.assignGuidToFiles(i,!this.uploadService.async.batch),l.validateFiles(i,this.restrictions),this.multiple||this.uploadService.clearFiles(),this.uploadService.addFiles(i);var o=this.element.nativeElement;!n.match(/(chrome)[ \/]([\w.]+)/i)&&n.match(/(webkit)[ \/]([\w.]+)/i)||(o.type="",o.type="file"),setTimeout((function(){t.navigation.focusedIndex=-1}))},i.__decorate([o.Input(),i.__metadata("design:type",String)],e.prototype,"dir",void 0),i.__decorate([o.Input(),i.__metadata("design:type",Boolean)],e.prototype,"disabled",void 0),i.__decorate([o.Input(),i.__metadata("design:type",Boolean)],e.prototype,"multiple",void 0),i.__decorate([o.Input(),i.__metadata("design:type",Object)],e.prototype,"restrictions",void 0),i.__decorate([o.HostBinding("attr.type"),i.__metadata("design:type",String)],e.prototype,"type",void 0),i.__decorate([o.HostBinding("attr.autocomplete"),i.__metadata("design:type",String)],e.prototype,"autocomplete",void 0),i.__decorate([o.HostBinding("attr.tabindex"),i.__metadata("design:type",Number)],e.prototype,"tabIndex",void 0),i.__decorate([o.HostBinding("attr.name"),i.__metadata("design:type",String),i.__metadata("design:paramtypes",[])],e.prototype,"nameAttribute",null),i.__decorate([o.HostBinding("attr.multiple"),i.__metadata("design:type",String),i.__metadata("design:paramtypes",[])],e.prototype,"multipleAttribute",null),i.__decorate([o.HostBinding("attr.dir"),i.__metadata("design:type",String),i.__metadata("design:paramtypes",[])],e.prototype,"dirAttribute",null),i.__decorate([o.HostBinding("attr.disabled"),i.__metadata("design:type",String),i.__metadata("design:paramtypes",[])],e.prototype,"disabledAttribute",null),i.__decorate([o.HostListener("change",["$event"]),i.__metadata("design:type",Function),i.__metadata("design:paramtypes",[Object]),i.__metadata("design:returntype",void 0)],e.prototype,"onInputChange",null),e=i.__decorate([o.Directive({selector:"[kendoFileSelect]"}),i.__metadata("design:paramtypes",[a.UploadService,r.NavigationService,o.ElementRef])],e)}();t.FileSelectDirective=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),o=n(0),r=function(){function e(e){this.viewContainerRef=e}return Object.defineProperty(e.prototype,"templateContext",{set:function(e){this.insertedViewRef&&(this.viewContainerRef.remove(this.viewContainerRef.indexOf(this.insertedViewRef)),this.insertedViewRef=void 0),e.templateRef&&(this.insertedViewRef=this.viewContainerRef.createEmbeddedView(e.templateRef,e))},enumerable:!0,configurable:!0}),i.__decorate([o.Input(),i.__metadata("design:type",Object),i.__metadata("design:paramtypes",[Object])],e.prototype,"templateContext",null),e=i.__decorate([o.Directive({selector:"[templateContext]"}),i.__metadata("design:paramtypes",[o.ViewContainerRef])],e)}();t.TemplateContextDirective=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),o=n(0),r=n(5),a=n(13),s=n(12),l=n(14),u=function(){function e(e){this.dropZoneService=e}return e.prototype.onElementDragEnter=function(){return!1},e.prototype.onElementDragOver=function(){return!1},e.prototype.onDropListener=function(e){var t=this.componentInstance;if(r.isPresent(t))return t.forEach((function(t){var n=e.dataTransfer.files;if(n.length>0&&!t.disabled){var i=r.getAllFileInfo(n);i=t instanceof l.UploadComponent?r.assignGuidToFiles(i,!t.batch):r.assignGuidToFiles(i,!0),t.multiple||(i.splice(1,i.length-1),t.clearFiles()),a.validateFiles(i,t.restrictions),t.addFiles(i)}})),!1},Object.defineProperty(e.prototype,"componentInstance",{get:function(){return this.dropZoneService.getComponents(this.zoneId)},enumerable:!0,configurable:!0}),i.__decorate([o.Input("kendoUploadDropZone"),i.__metadata("design:type",String)],e.prototype,"zoneId",void 0),i.__decorate([o.HostListener("dragenter"),i.__metadata("design:type",Function),i.__metadata("design:paramtypes",[]),i.__metadata("design:returntype",Boolean)],e.prototype,"onElementDragEnter",null),i.__decorate([o.HostListener("dragover"),i.__metadata("design:type",Function),i.__metadata("design:paramtypes",[]),i.__metadata("design:returntype",Boolean)],e.prototype,"onElementDragOver",null),i.__decorate([o.HostListener("drop",["$event"]),i.__metadata("design:type",Function),i.__metadata("design:paramtypes",[Object]),i.__metadata("design:returntype",Boolean)],e.prototype,"onDropListener",null),e=i.__decorate([o.Directive({providers:[s.DropZoneService],selector:"[kendoUploadDropZone], [kendoFileSelectDropZone]"}),i.__metadata("design:paramtypes",[s.DropZoneService])],e)}();t.UploadDropZoneDirective=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),o=n(0),r=n(2),a=function(e){function t(t,n,i){var o=e.call(this,t,n,"k-external-dropzone-hover")||this;return o.localization=i,o.hostClass=!0,o.localizationChangeSubscription=o.localization.changes.subscribe((function(e){var t=e.rtl;o.direction=t?"rtl":"ltr"})),o}return i.__extends(t,e),Object.defineProperty(t.prototype,"dirAttribute",{get:function(){return this.direction},enumerable:!0,configurable:!0}),t.prototype.textFor=function(e){return this.localization.get(e)},Object.defineProperty(t.prototype,"iconClasses",{get:function(){return this.icon?"k-icon k-i-"+this.icon:this.iconClass?""+this.iconClass:"k-icon k-i-upload"},enumerable:!0,configurable:!0}),t.prototype.ngOnDestroy=function(){this.localizationChangeSubscription&&this.localizationChangeSubscription.unsubscribe()},i.__decorate([o.HostBinding("class.k-external-dropzone"),i.__metadata("design:type",Boolean)],t.prototype,"hostClass",void 0),i.__decorate([o.HostBinding("attr.dir"),i.__metadata("design:type",String),i.__metadata("design:paramtypes",[])],t.prototype,"dirAttribute",null),i.__decorate([o.Input(),i.__metadata("design:type",String)],t.prototype,"zoneId",void 0),i.__decorate([o.Input(),i.__metadata("design:type",String)],t.prototype,"icon",void 0),i.__decorate([o.Input(),i.__metadata("design:type",String)],t.prototype,"iconClass",void 0),t=i.__decorate([o.Component({exportAs:"kendoUploadDropZone",providers:[r.LocalizationService,{provide:r.L10N_PREFIX,useValue:"kendo.uploaddropzone"}],selector:"kendo-uploaddropzone",template:"\n    <ng-container kendoUploadDropZoneLocalizedMessages\n      i18n-externalDropFilesHere='kendo.uploaddropzone.externalDropFilesHere|Sets the external drop-zone hint'\n      externalDropFilesHere='Drag and drop files here to upload'\n    >\n    </ng-container>\n    <div class='k-dropzone-inner' [kendoUploadDropZone]=\"zoneId\">\n      <span [ngClass]=\"iconClasses\"></span>\n      <span class=\"k-dropzone-hint\">{{ textFor('externalDropFilesHere') }}</span>\n      <span class=\"k-dropzone-note\">\n        <ng-content></ng-content>\n      </span>\n    </div>\n  "}),i.__metadata("design:paramtypes",[o.ElementRef,o.Renderer2,r.LocalizationService])],t)}(n(26).DropZoneBase);t.UploadDropZoneComponent=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),o=n(0),r=n(14),a=n(39),s=n(40),l=n(23),u=[r.UploadComponent,a.UploadActionButtonsComponent,s.UploadStatusTotalComponent],c=function(){function e(){}return e=i.__decorate([o.NgModule({declarations:[u],exports:[l.PUBLIC_DIRECTIVES,u],imports:[l.SharedModule]})],e)}();t.UploadModule=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),o=n(0),r=n(3),a=n(2),s=n(7),l=function(){function e(e,t,n){this.uploadService=e,this.localization=t,this.navigation=n,this.onAction(),this.onFocus()}return e.prototype.onAction=function(){var e=this;this.actionSubscription=this.navigation.onActionButtonAction.subscribe((function(t){"clear"===t?e.clearFiles():e.performUpload(),e.navigation.focusSelectButton()}))},e.prototype.onFocus=function(){var e=this;this.focusSubscription=this.navigation.onActionButtonFocus.subscribe((function(t){e.focusButton(t)}))},e.prototype.focusButton=function(e){("clear"===e?this.clearButton:this.uploadButton).nativeElement.focus()},e.prototype.ngOnDestroy=function(){this.actionSubscription.unsubscribe(),this.focusSubscription.unsubscribe()},e.prototype.performUpload=function(e){this.disabled||this.uploadService.uploadFiles()},e.prototype.clearFiles=function(e){this.disabled||this.uploadService.clearFiles()},e.prototype.textFor=function(e){return this.localization.get(e)},Object.defineProperty(e.prototype,"className",{get:function(){return"k-action-buttons"},enumerable:!0,configurable:!0}),i.__decorate([o.Input(),i.__metadata("design:type",Boolean)],e.prototype,"disabled",void 0),i.__decorate([o.ViewChild("clearButton"),i.__metadata("design:type",o.ElementRef)],e.prototype,"clearButton",void 0),i.__decorate([o.ViewChild("uploadButton"),i.__metadata("design:type",o.ElementRef)],e.prototype,"uploadButton",void 0),i.__decorate([o.HostBinding("class"),i.__metadata("design:type",String),i.__metadata("design:paramtypes",[])],e.prototype,"className",null),e=i.__decorate([o.Component({selector:"kendo-upload-action-buttons",template:'\n        <button #clearButton type="button" class="k-button k-clear-selected"\n            [attr.tabIndex]="-1"\n            (click)="clearFiles($event)">\n                {{textFor(\'clearSelectedFiles\')}}\n        </button>\n        <button #uploadButton type="button" class="k-button k-primary k-upload-selected"\n            [attr.tabIndex]="-1"\n            (click)="performUpload($event)">\n                {{textFor(\'uploadSelectedFiles\')}}\n        </button>\n    '}),i.__metadata("design:paramtypes",[r.UploadService,a.LocalizationService,s.NavigationService])],e)}();t.UploadActionButtonsComponent=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),o=n(0),r=n(21),a=n(4),s=n(2),l=function(){function e(e){this.localization=e}return e.prototype.ngDoCheck=function(){this.isPaused=this.fileList.hasFileWithState([a.FileState.Paused]),this.isFailed=this.fileList.hasFileWithState([a.FileState.Failed]),this.isUploading=this.fileList.hasFileWithState([a.FileState.Uploading]),this.isPaused&&!this.isUploading?this.statusText=this.localization.get("headerStatusPaused"):this.statusText=this.isUploading?this.localization.get("headerStatusUploading"):this.localization.get("headerStatusUploaded")},i.__decorate([o.Input(),i.__metadata("design:type",r.FileMap)],e.prototype,"fileList",void 0),e=i.__decorate([o.Component({selector:"kendo-upload-status-total",template:"\n        <span class=\"k-icon\"\n            [ngClass]=\"{\n                'k-i-checkmark': !this.isUploading && !this.isFailed,\n                'k-i-exception': !this.isUploading && this.isFailed,\n                'k-i-upload': this.isUploading,\n                'k-i-pause-sm': this.isPaused\n            }\">\n        </span>\n        {{statusText}}\n    "}),i.__metadata("design:paramtypes",[s.LocalizationService])],e)}();t.UploadStatusTotalComponent=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),o=n(16);t.FileSelectModule=o.FileSelectModule;var r=n(38);t.UploadModule=r.UploadModule;var a=n(56);t.UploadsModule=a.UploadsModule;var s=n(14);t.UploadComponent=s.UploadComponent;var l=n(17);t.FileSelectComponent=l.FileSelectComponent;var u=n(37);t.UploadDropZoneComponent=u.UploadDropZoneComponent;var c=n(34);t.FileSelectDirective=c.FileSelectDirective;var d=n(27);t.FileListComponent=d.FileListComponent;var p=n(33);t.FileListSingleItemComponent=p.FileListSingleItemComponent;var f=n(29);t.FileListItemActionButtonComponent=f.FileListItemActionButtonComponent;var h=n(30);t.FileListMultipleItemsComponent=h.FileListMultipleItemsComponent;var v=n(9);t.FileTemplateDirective=v.FileTemplateDirective;var m=n(35);t.TemplateContextDirective=m.TemplateContextDirective;var g=n(40);t.UploadStatusTotalComponent=g.UploadStatusTotalComponent;var y=n(39);t.UploadActionButtonsComponent=y.UploadActionButtonsComponent;var _=n(36);t.UploadDropZoneDirective=_.UploadDropZoneDirective;var b=n(24);t.CustomMessagesComponent=b.CustomMessagesComponent,i.__exportStar(n(22),t),i.__exportStar(n(4),t)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(e){this.files=e};t.CancelEvent=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),o=function(e){function t(){return e.call(this)||this}return i.__extends(t,e),t}(n(8).PreventableEvent);t.ClearEvent=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(e,t,n){this.files=e,this.operation=t,this.response=n};t.ErrorEvent=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(e){this.file=e};t.PauseEvent=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),o=function(e){function t(t,n){var i=e.call(this)||this;return i.files=t,i.headers=n,i}return i.__extends(t,e),t}(n(8).PreventableEvent);t.RemoveEvent=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(e){this.file=e};t.ResumeEvent=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),o=function(e){function t(t){var n=e.call(this)||this;return n.files=t,n}return i.__extends(t,e),t}(n(8).PreventableEvent);t.SelectEvent=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),o=function(e){function t(t,n,i){var o=e.call(this)||this;return o.files=t,o.operation=n,o.response=i,o}return i.__extends(t,e),t}(n(8).PreventableEvent);t.SuccessEvent=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),o=function(e){function t(t,n){var i=e.call(this)||this;return i.files=t,i.headers=n,i}return i.__extends(t,e),t}(n(8).PreventableEvent);t.UploadEvent=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(e,t){this.files=e,this.percentComplete=t};t.UploadProgressEvent=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.fileGroupMap={audio:[".aif",".iff",".m3u",".m4a",".mid",".mp3",".mpa",".wav",".wma",".ogg",".wav",".wma",".wpl"],video:[".3g2",".3gp",".avi",".asf",".flv",".m4u",".rm",".h264",".m4v",".mkv",".mov",".mp4",".mpg",".rm",".swf",".vob",".wmv"],image:[".ai",".dds",".heic",".jpe","jfif",".jif",".jp2",".jps",".eps",".bmp",".gif",".jpeg",".jpg",".png",".ps",".psd",".svg",".svgz",".tif",".tiff"],txt:[".doc",".docx",".log",".pages",".tex",".wpd",".wps",".odt",".rtf",".text",".txt",".wks"],presentation:[".key",".odp",".pps",".ppt",".pptx"],data:[".xlr",".xls",".xlsx"],programming:[".tmp",".bak",".msi",".cab",".cpl",".cur",".dll",".dmp",".drv",".icns",".ico",".link",".sys",".cfg",".ini",".asp",".aspx",".cer",".csr",".css",".dcr",".htm",".html",".js",".php",".rss",".xhtml"],pdf:[".pdf"],config:[".apk",".app",".bat",".cgi",".com",".exe",".gadget",".jar",".wsf"],zip:[".7z",".cbr",".gz",".sitx",".arj",".deb",".pkg",".rar",".rpm",".tar.gz",".z",".zip",".zipx"],discImage:[".dmg",".iso",".toast",".vcd",".bin",".cue",".mdf"]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(){this._files={}}return e.prototype.add=function(e,t){var n={index:0,position:0,retries:0,totalChunks:t};return this._files[e]=n,n},e.prototype.remove=function(e){this.has(e)&&(this._files[e]=null,delete this._files[e])},e.prototype.has=function(e){return e in this._files},e.prototype.get=function(e){return this._files[e]},e}();t.ChunkMap=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),o=n(0),r=n(5),a=n(13),s=n(26),l=n(3),u=function(e){function t(t,n,i,o){var r=e.call(this,t,n,"k-dropzone-hover")||this;return r.ngZone=i,r.uploadService=o,r.initialClassName=!0,r.hideIntervalDocument=null,r.activeClass="k-dropzone-active",r.ngZone.runOutsideAngular((function(){r.unsubscribeDocumentDragEnter=r.renderer.listen("document","dragenter",(function(){return r.onDocumentDragEnter()})),r.unsubscribeDocumentDragOver=r.renderer.listen("document","dragover",(function(){return r.onDocumentDragOver()}))})),r}return i.__extends(t,e),t.prototype.ngOnDestroy=function(){var e=this;this.ngZone.runOutsideAngular((function(){e.unsubscribeDocumentDragEnter&&e.unsubscribeDocumentDragEnter(),e.unsubscribeDocumentDragOver&&e.unsubscribeDocumentDragOver()}))},t.prototype.onDocumentDragEnter=function(){var e=this;return this.addClass(this.activeClass),this.lastDragDocument=new Date,this.hideIntervalDocument||(this.hideIntervalDocument=setInterval((function(){e.calculateTimeDiff(e.lastDragDocument)<100||(e.removeClass(e.activeClass),clearInterval(e.hideIntervalDocument),e.hideIntervalDocument=null)}),100)),!1},t.prototype.onDocumentDragOver=function(){return this.lastDragDocument=new Date,!1},t.prototype.onDropListener=function(e){var t=e.dataTransfer.files;if(t.length>0&&!this.disabled){var n=r.getAllFileInfo(t);n=r.assignGuidToFiles(n,!this.uploadService.async.batch),this.multiple||(n.splice(1,n.length-1),this.uploadService.clearFiles()),a.validateFiles(n,this.restrictions),this.uploadService.addFiles(n)}return!1},i.__decorate([o.Input(),i.__metadata("design:type",Boolean)],t.prototype,"disabled",void 0),i.__decorate([o.Input(),i.__metadata("design:type",Boolean)],t.prototype,"multiple",void 0),i.__decorate([o.Input(),i.__metadata("design:type",Object)],t.prototype,"restrictions",void 0),i.__decorate([o.HostBinding("class.k-dropzone"),i.__metadata("design:type",Boolean)],t.prototype,"initialClassName",void 0),i.__decorate([o.HostListener("drop",["$event"]),i.__metadata("design:type",Function),i.__metadata("design:paramtypes",[Object]),i.__metadata("design:returntype",Boolean)],t.prototype,"onDropListener",null),t=i.__decorate([o.Directive({selector:"\n      [kendoUploadInternalDropZone],\n      [kendoFileSelectInternalDropZone]\n    "}),i.__metadata("design:paramtypes",[o.ElementRef,o.Renderer2,o.NgZone,l.UploadService])],t)}(s.DropZoneBase);t.DropZoneInternalDirective=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),o=n(0),r=n(25),a=n(2),s=function(e){function t(t){var n=e.call(this)||this;return n.service=t,n}var n;return i.__extends(t,e),n=t,t=n=i.__decorate([o.Directive({providers:[{provide:r.Messages,useExisting:o.forwardRef((function(){return n}))}],selector:"\n    [kendoUploadLocalizedMessages],\n    [kendoFileSelectLocalizedMessages],\n    [kendoUploadDropZoneLocalizedMessages]\n  "}),i.__metadata("design:paramtypes",[a.LocalizationService])],t)}(r.Messages);t.LocalizedMessagesDirective=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),o=n(0),r=n(16),a=n(38),s=function(){function e(){}return e=i.__decorate([o.NgModule({exports:[r.FileSelectModule,a.UploadModule]})],e)}();t.UploadsModule=s}])}));