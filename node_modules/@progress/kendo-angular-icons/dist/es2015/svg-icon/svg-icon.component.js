/**-----------------------------------------------------------------------------------------
* Copyright Â© 2020 Progress Software Corporation. All rights reserved.
* Licensed under commercial license. See LICENSE.md in the project root for more information
*-------------------------------------------------------------------------------------------*/
import { Component, ElementRef, Input, Renderer2, HostBinding, isDevMode } from '@angular/core';
import { DomSanitizer } from "@angular/platform-browser";
import { IconBase } from '../common/icon-base';
/**
 * Represents the Kendo UI SVG Icon component for Angular.
 */
export class SVGIconComponent extends IconBase {
    constructor(domSanitizer, element, renderer) {
        super(element, renderer);
        this.domSanitizer = domSanitizer;
        this.element = element;
        this.renderer = renderer;
        this.hostClass = true;
    }
    /**
     * Defines the SVG icon, which will be rendered.
     */
    set icon(icon) {
        const element = this.element.nativeElement;
        if (this._icon && this._icon.name) {
            this.renderer.removeClass(element, `k-svg-i-${this._icon.name}`);
        }
        this._icon = icon;
        this.renderer.addClass(element, `k-svg-i-${this._icon.name}`);
    }
    get icon() {
        return this._icon;
    }
    get content() {
        if (!this.icon) {
            return;
        }
        this.safeContent = this.safeContent || this.domSanitizer.bypassSecurityTrustHtml(this.icon.content);
        return this.safeContent;
    }
    ngOnInit() {
        this.verifyIconProperty();
    }
    verifyIconProperty() {
        if (!isDevMode()) {
            return;
        }
        if (!this._icon) {
            throw new Error(`
                Invalid configuration.
                The input [icon] is required for the Kendo UI SVG Icon component for Angular.
                See https://www.telerik.com/kendo-angular-ui/components/icons/svg-icon
            `);
        }
    }
}
SVGIconComponent.decorators = [
    { type: Component, args: [{
                exportAs: 'kendoSVGIcon',
                selector: 'kendo-svg-icon',
                template: `
        <svg xmlns="http://www.w3.org/2000/svg"
        xmlns:xlink="http://www.w3.org/1999/xlink"
        [attr.viewBox]="icon.viewBox" [innerHTML]="content">
        </svg>`
            },] },
];
/** @nocollapse */
SVGIconComponent.ctorParameters = () => [
    { type: DomSanitizer },
    { type: ElementRef },
    { type: Renderer2 }
];
SVGIconComponent.propDecorators = {
    hostClass: [{ type: HostBinding, args: ['class.k-svg-icon',] }],
    icon: [{ type: Input }]
};
